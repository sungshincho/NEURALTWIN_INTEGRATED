# Digital Twin 3D ì‹œìŠ¤í…œ ì„¤ì • ê°€ì´ë“œ

**ë²„ì „**: 1.2
**ì‘ì„±ì¼**: 2025-12-16
**NEURALTWIN**: v8.3 (Mannequin System)

---

## ğŸ“‹ ëª©ì°¨

1. [ê°œìš”](#1-ê°œìš”)
2. [ì „ì²´ To-Do List](#2-ì „ì²´-to-do-list)
3. [ìë™í™” vs ìˆ˜ë™ ì‘ì—… êµ¬ë¶„](#3-ìë™í™”-vs-ìˆ˜ë™-ì‘ì—…-êµ¬ë¶„)
4. [SQL ì‹¤í–‰ ìˆœì„œ](#4-sql-ì‹¤í–‰-ìˆœì„œ)
5. [MVP í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ](#5-mvp-í…ŒìŠ¤íŠ¸-ê°€ì´ë“œ)
6. [3D ëª¨ë¸ ì œì‘ ìŠ¤í™](#6-3d-ëª¨ë¸-ì œì‘-ìŠ¤í™)
7. [Storage ì—…ë¡œë“œ ê°€ì´ë“œ](#7-storage-ì—…ë¡œë“œ-ê°€ì´ë“œ)
8. [í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤](#8-í…ŒìŠ¤íŠ¸-ì‹œë‚˜ë¦¬ì˜¤)
9. [ë°ì´í„° í¸ì§‘ ê°€ì´ë“œ](#9-ë°ì´í„°-í¸ì§‘-ê°€ì´ë“œ) â† ì‹ ê·œ

---

## 1. ê°œìš”

ì´ ë¬¸ì„œëŠ” NEURALTWIN Digital Twin 3D ì‹œìŠ¤í…œì„ ì„¤ì •í•˜ê³  MVP í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê¸° ìœ„í•œ ì¢…í•© ê°€ì´ë“œì…ë‹ˆë‹¤.

### ì‹œìŠ¤í…œ êµ¬ì„±ìš”ì†Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    NEURALTWIN Digital Twin System                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  [Database Layer]                                                       â”‚
â”‚  â”œâ”€â”€ stores (ë§¤ì¥ ê¸°ë³¸ ì •ë³´)                                            â”‚
â”‚  â”œâ”€â”€ zones_dim (êµ¬ì—­ ì •ì˜)                                              â”‚
â”‚  â”œâ”€â”€ furniture (ê°€êµ¬ ì—”í‹°í‹°) â† ì‹ ê·œ                                     â”‚
â”‚  â”œâ”€â”€ furniture_slots (ìŠ¬ë¡¯ ì •ì˜)                                        â”‚
â”‚  â”œâ”€â”€ products (ìƒí’ˆ + display_type)                                    â”‚
â”‚  â””â”€â”€ staff (ì§ì› + avatar)                                             â”‚
â”‚                                                                         â”‚
â”‚  [3D Asset Layer]                                                       â”‚
â”‚  â”œâ”€â”€ Space Models (ê³µê°„ GLB)                                           â”‚
â”‚  â”œâ”€â”€ Furniture Models (ê°€êµ¬ GLB)                                       â”‚
â”‚  â”œâ”€â”€ Product Models (ìƒí’ˆ GLB)                                         â”‚
â”‚  â””â”€â”€ Avatar Models (ì•„ë°”íƒ€ GLB)                                        â”‚
â”‚                                                                         â”‚
â”‚  [Frontend Layer]                                                       â”‚
â”‚  â”œâ”€â”€ SceneViewer (3D ë·°ì–´)                                             â”‚
â”‚  â”œâ”€â”€ PlacementEditor (ë°°ì¹˜ í¸ì§‘ê¸°)                                     â”‚
â”‚  â”œâ”€â”€ OptimizationPanel (AI ìµœì í™”)                                     â”‚
â”‚  â””â”€â”€ ComparisonView (ë¹„êµ ë·°)                                          â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ì „ì²´ To-Do List

### Phase 1: Database ì„¤ì • (ìë™í™” ê°€ëŠ¥ âœ…)

| # | ì‘ì—… | íŒŒì¼ | ìƒíƒœ |
|---|------|------|------|
| 1.1 | ê¸°ë³¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ | ê¸°ì¡´ migrations | â¬œ |
| 1.2 | furniture í…Œì´ë¸” ìƒì„± | `20251216_furniture_table.sql` | â¬œ |
| 1.3 | placement í…Œì´ë¸” ìƒì„± | `20251216_product_placement_and_avatars.sql` | â¬œ |
| 1.4 | display_type ì»¬ëŸ¼ ì¶”ê°€ | `20251216_display_type_and_slots.sql` | â¬œ |

### Phase 2: ì‹œë“œ ë°ì´í„° (ìë™í™” ê°€ëŠ¥ âœ…)

| # | ì‘ì—… | íŒŒì¼ | ìƒíƒœ |
|---|------|------|------|
| 2.1 | ê¸°ë³¸ ë°ì´í„° ì‹œë”© | `NEURALTWIN_UNIFIED_SEED_v8.sql` | â¬œ |
| 2.2 | ìƒí’ˆ/ê°€êµ¬/ìŠ¬ë¡¯ í†µí•© | `NEURALTWIN_v8.3_unified_products_furniture.sql` | â¬œ |

### Phase 3: 3D ëª¨ë¸ ì œì‘ (ìˆ˜ë™ ì‘ì—… ğŸ”´)

| # | ì‘ì—… | íŒŒì¼ëª… | ìƒíƒœ |
|---|------|--------|------|
| 3.1 | ê³µê°„ ëª¨ë¸ | `store_simple_10x10.glb` | â¬œ |
| 3.2 | í–‰ê±° ë™ ëª¨ë¸ | `rack_hanger_simple.glb` | â¬œ |
| 3.3 | ì„ ë°˜ ëª¨ë¸ | `shelf_simple.glb` | â¬œ |
| 3.4 | í…Œì´ë¸” ëª¨ë¸ | `table_simple.glb` | â¬œ |
| 3.5 | ì‹ ë°œ ë™ ëª¨ë¸ | `rack_shoes_simple.glb` | â¬œ |
| 3.6 | ì½”íŠ¸ ëª¨ë¸ | `product_coat.glb` | â¬œ |
| 3.7 | ìŠ¤ì›¨í„° ëª¨ë¸ | `product_sweater.glb` | â¬œ |
| 3.8 | ì‹ ë°œ ëª¨ë¸ | `product_shoes.glb` | â¬œ |
| 3.9 | ì„ ë¬¼ë°•ìŠ¤ ëª¨ë¸ | `product_giftbox.glb` | â¬œ |
| 3.10 | í‹°ì…”ì¸ íŒ© ëª¨ë¸ | `product_tshirt_stack.glb` | â¬œ |
| 3.11 | ì§ì› ì•„ë°”íƒ€ | `avatar_staff.glb` | â¬œ |
| 3.12 | ê³ ê° ì•„ë°”íƒ€ | `avatar_customer.glb` | â¬œ |

### Phase 4: Storage ì—°ê²° (ìˆ˜ë™ ì‘ì—… ğŸ”´)

| # | ì‘ì—… | ìƒíƒœ |
|---|------|------|
| 4.1 | Supabase Storage ë²„í‚· ìƒì„± | â¬œ |
| 4.2 | GLB íŒŒì¼ ì—…ë¡œë“œ | â¬œ |
| 4.3 | `MVP_MODEL_URL_UPDATE.sql` ìˆ˜ì • | â¬œ |
| 4.4 | URL ì—°ê²° ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ | â¬œ |

### Phase 5: í…ŒìŠ¤íŠ¸ (ìˆ˜ë™ ì‘ì—… ğŸ”´)

| # | ì‘ì—… | ìƒíƒœ |
|---|------|------|
| 5.1 | ê¸°ë³¸ ë Œë”ë§ í…ŒìŠ¤íŠ¸ | â¬œ |
| 5.2 | ìŠ¬ë¡¯ ìŠ¤ëƒ… í…ŒìŠ¤íŠ¸ | â¬œ |
| 5.3 | í˜¸í™˜ì„± ì²´í¬ í…ŒìŠ¤íŠ¸ | â¬œ |
| 5.4 | AI ìµœì í™” í…ŒìŠ¤íŠ¸ | â¬œ |

---

## 3. ìë™í™” vs ìˆ˜ë™ ì‘ì—… êµ¬ë¶„

### âœ… ìë™í™” ê°€ëŠ¥ (Claudeê°€ ì‹¤í–‰/ìƒì„±)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ìë™í™” ê°€ëŠ¥ ì‘ì—…                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ“„ SQL ë§ˆì´ê·¸ë ˆì´ì…˜/ì‹œë“œ íŒŒì¼                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  âœ… 20251216_furniture_table.sql        - ê°€êµ¬ í…Œì´ë¸” ìƒì„±              â”‚
â”‚  âœ… 20251216_product_placement_and_avatars.sql - ë°°ì¹˜ ì‹œìŠ¤í…œ           â”‚
â”‚  âœ… 20251216_display_type_and_slots.sql - ë””ìŠ¤í”Œë ˆì´ íƒ€ì…              â”‚
â”‚  âœ… NEURALTWIN_UNIFIED_SEED_v8.sql      - ê¸°ë³¸ ë°ì´í„°                  â”‚
â”‚  âœ… NEURALTWIN_v8.3_unified_products_furniture.sql - í†µí•© ì‹œë“œ        â”‚
â”‚  âœ… MVP_MODEL_URL_UPDATE.sql            - URL ì—°ê²° í…œí”Œë¦¿              â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“¦ í”„ë¡ íŠ¸ì—”ë“œ ì»´í¬ë„ŒíŠ¸                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  âœ… SceneViewer.tsx                     - 3D ë·°ì–´                      â”‚
â”‚  âœ… PlacementEditor.tsx                 - ë°°ì¹˜ í¸ì§‘ê¸°                  â”‚
â”‚  âœ… OptimizationPanel.tsx               - AI ìµœì í™” íŒ¨ë„               â”‚
â”‚  âœ… ComparisonView.tsx                  - ë¹„êµ ë·°                      â”‚
â”‚  âœ… useOptimization.ts                  - ìµœì í™” í›…                    â”‚
â”‚  âœ… usePlacement.ts                     - ë°°ì¹˜ ê´€ë¦¬ í›…                 â”‚
â”‚  âœ… useFurnitureSlots.ts               - ìŠ¬ë¡¯ ê´€ë¦¬ í›…                  â”‚
â”‚                                                                         â”‚
â”‚  âš™ï¸ Edge Functions                                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  âœ… generate-optimization/index.ts      - AI ìµœì í™” ìƒì„±               â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”´ ìˆ˜ë™ ì‘ì—… í•„ìš” (ì‚¬ìš©ìê°€ ì§ì ‘)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ìˆ˜ë™ ì‘ì—… í•„ìš”                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ¨ 3D ëª¨ë¸ ì œì‘ (Blender ë“±)                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  ğŸ”´ store_simple_10x10.glb    - ë§¤ì¥ ê³µê°„ ëª¨ë¸ (10mÃ—10m)              â”‚
â”‚  ğŸ”´ rack_hanger_simple.glb    - ì˜ë¥˜ í–‰ê±° ëª¨ë¸                         â”‚
â”‚  ğŸ”´ shelf_simple.glb          - ì„ ë°˜ ì§„ì—´ëŒ€ ëª¨ë¸                       â”‚
â”‚  ğŸ”´ table_simple.glb          - í…Œì´ë¸” ëª¨ë¸                            â”‚
â”‚  ğŸ”´ rack_shoes_simple.glb     - ì‹ ë°œ ë™ ëª¨ë¸                           â”‚
â”‚  ğŸ”´ product_coat.glb          - ì½”íŠ¸ ëª¨ë¸ (hanging)                   â”‚
â”‚  ğŸ”´ product_sweater.glb       - ìŠ¤ì›¨í„° ëª¨ë¸ (folded)                  â”‚
â”‚  ğŸ”´ product_shoes.glb         - ì‹ ë°œ ëª¨ë¸ (standing)                  â”‚
â”‚  ğŸ”´ product_giftbox.glb       - ì„ ë¬¼ë°•ìŠ¤ ëª¨ë¸ (boxed)                 â”‚
â”‚  ğŸ”´ product_tshirt_stack.glb  - í‹°ì…”ì¸ íŒ© ëª¨ë¸ (stacked)               â”‚
â”‚  ğŸ”´ avatar_staff.glb          - ì§ì› ì•„ë°”íƒ€                            â”‚
â”‚  ğŸ”´ avatar_customer.glb       - ê³ ê° ì•„ë°”íƒ€                            â”‚
â”‚                                                                         â”‚
â”‚  â˜ï¸ Supabase Storage ì‘ì—…                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  ğŸ”´ Storage ë²„í‚· ìƒì„± (3d-models)                                      â”‚
â”‚  ğŸ”´ GLB íŒŒì¼ ì—…ë¡œë“œ                                                    â”‚
â”‚  ğŸ”´ Public URL í™•ì¸                                                    â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“ URL ì—°ê²° (SQL ìˆ˜ì •)                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  ğŸ”´ MVP_MODEL_URL_UPDATE.sql ì—ì„œ v_storage_base URL ìˆ˜ì •              â”‚
â”‚  ğŸ”´ ì‹¤ì œ Storage URLë¡œ êµì²´                                            â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“ ìŠ¬ë¡¯ ì¢Œí‘œ ì¡°ì • (3D ëª¨ë¸ ì¸¡ì • í›„)                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  âš ï¸ ì„ íƒì‚¬í•­: ëª¨ë¸ ì‹¤ì œ í¬ê¸°ì— ë§ê²Œ slot_position ë¯¸ì„¸ ì¡°ì •            â”‚
â”‚  âš ï¸ Blenderì—ì„œ ê°€êµ¬ origin ê¸°ì¤€ ìŠ¬ë¡¯ ìœ„ì¹˜ ì¸¡ì •                        â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. SQL ì‹¤í–‰ ìˆœì„œ

### ì‹¤í–‰ ëª…ë ¹ì–´ (ìˆœì„œ ì¤‘ìš”!)

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# STEP 1: ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# 1-1. Furniture í…Œì´ë¸” ìƒì„±
psql -h <DB_HOST> -U postgres -d postgres \
  -f supabase/migrations/20251216_furniture_table.sql

# 1-2. Product Placement ì‹œìŠ¤í…œ
psql -h <DB_HOST> -U postgres -d postgres \
  -f supabase/migrations/20251216_product_placement_and_avatars.sql

# 1-3. Display Type & Slots
psql -h <DB_HOST> -U postgres -d postgres \
  -f supabase/migrations/20251216_display_type_and_slots.sql

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# STEP 2: ì‹œë“œ ë°ì´í„° ì‹¤í–‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# 2-1. ê¸°ë³¸ ë°ì´í„° (ì´ë¯¸ ì‹¤í–‰ëœ ê²½ìš° ìŠ¤í‚µ)
psql -h <DB_HOST> -U postgres -d postgres \
  -f supabase/seeds/NEURALTWIN_UNIFIED_SEED_v8.sql

# 2-2. í†µí•© ìƒí’ˆ/ê°€êµ¬/ìŠ¬ë¡¯ ë°ì´í„°
psql -h <DB_HOST> -U postgres -d postgres \
  -f supabase/seeds/NEURALTWIN_v8.3_unified_products_furniture.sql

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# STEP 3: 3D ëª¨ë¸ ì—…ë¡œë“œ í›„ URL ì—°ê²°
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# 3-1. MVP_MODEL_URL_UPDATE.sql ìˆ˜ì • (v_storage_base URL ë³€ê²½)
# 3-2. URL ì—°ê²° ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
psql -h <DB_HOST> -U postgres -d postgres \
  -f supabase/seeds/MVP_MODEL_URL_UPDATE.sql
```

### Supabase Dashboardì—ì„œ ì‹¤í–‰

```sql
-- Supabase SQL Editorì—ì„œ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰:

-- 1. ë§ˆì´ê·¸ë ˆì´ì…˜
-- (migrations í´ë”ì˜ íŒŒì¼ë“¤ ë³µì‚¬ & ë¶™ì—¬ë„£ê¸°)

-- 2. ì‹œë“œ ë°ì´í„°
-- (seeds í´ë”ì˜ íŒŒì¼ë“¤ ë³µì‚¬ & ë¶™ì—¬ë„£ê¸°)

-- 3. URL ì—°ê²° (3D ëª¨ë¸ ì—…ë¡œë“œ í›„)
-- MVP_MODEL_URL_UPDATE.sql ë‚´ìš© ìˆ˜ì • í›„ ì‹¤í–‰
```

---

## 5. MVP í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

### MVP ëª¨ë¸ êµ¬ì„± (12ê°œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MVP ëª¨ë¸ ëª©ë¡                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  [ê³µê°„ - 1ê°œ]                                                           â”‚
â”‚  â”œâ”€â”€ store_simple_10x10.glb                                            â”‚
â”‚  â”‚   â€¢ í¬ê¸°: 10m Ã— 10m Ã— 3m                                            â”‚
â”‚  â”‚   â€¢ êµ¬ì„±: ë°”ë‹¥ + ë²½ 4ë©´                                              â”‚
â”‚  â”‚   â€¢ í´ë¦¬ê³¤: ~100                                                     â”‚
â”‚                                                                         â”‚
â”‚  [ê°€êµ¬ - 4ê°œ]                                                           â”‚
â”‚  â”œâ”€â”€ rack_hanger_simple.glb (í–‰ê±°)                                     â”‚
â”‚  â”‚   â€¢ í¬ê¸°: 1.2m Ã— 1.8m Ã— 0.5m                                        â”‚
â”‚  â”‚   â€¢ ìŠ¬ë¡¯: 10ê°œ (H1~H10)                                              â”‚
â”‚  â”‚   â€¢ í˜¸í™˜: hanging                                                   â”‚
â”‚  â”‚                                                                      â”‚
â”‚  â”œâ”€â”€ shelf_simple.glb (ì„ ë°˜)                                           â”‚
â”‚  â”‚   â€¢ í¬ê¸°: 1.0m Ã— 1.8m Ã— 0.4m                                        â”‚
â”‚  â”‚   â€¢ ìŠ¬ë¡¯: 12ê°œ (4ë‹¨ Ã— 3ì—´)                                          â”‚
â”‚  â”‚   â€¢ í˜¸í™˜: folded, boxed, standing                                   â”‚
â”‚  â”‚                                                                      â”‚
â”‚  â”œâ”€â”€ table_simple.glb (í…Œì´ë¸”)                                         â”‚
â”‚  â”‚   â€¢ í¬ê¸°: 1.2m Ã— 0.9m Ã— 0.8m                                        â”‚
â”‚  â”‚   â€¢ ìŠ¬ë¡¯: 6ê°œ (2í–‰ Ã— 3ì—´)                                           â”‚
â”‚  â”‚   â€¢ í˜¸í™˜: folded, boxed, stacked                                    â”‚
â”‚  â”‚                                                                      â”‚
â”‚  â””â”€â”€ rack_shoes_simple.glb (ì‹ ë°œë™)                                    â”‚
â”‚      â€¢ í¬ê¸°: 1.2m Ã— 1.5m Ã— 0.4m                                        â”‚
â”‚      â€¢ ìŠ¬ë¡¯: 16ê°œ (4ë‹¨ Ã— 4ì—´)                                          â”‚
â”‚      â€¢ í˜¸í™˜: standing                                                   â”‚
â”‚                                                                         â”‚
â”‚  [ìƒí’ˆ - 5ê°œ] (ê° display_type ëŒ€í‘œ)                                    â”‚
â”‚  â”œâ”€â”€ product_coat.glb â†’ hanging                                        â”‚
â”‚  â”œâ”€â”€ product_sweater.glb â†’ folded                                      â”‚
â”‚  â”œâ”€â”€ product_shoes.glb â†’ standing                                      â”‚
â”‚  â”œâ”€â”€ product_giftbox.glb â†’ boxed                                       â”‚
â”‚  â””â”€â”€ product_tshirt_stack.glb â†’ stacked                                â”‚
â”‚                                                                         â”‚
â”‚  [ì•„ë°”íƒ€ - 2ê°œ] (ì„ íƒì‚¬í•­)                                               â”‚
â”‚  â”œâ”€â”€ avatar_staff.glb                                                  â”‚
â”‚  â””â”€â”€ avatar_customer.glb                                               â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### MVP í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

```
â–¡ í…ŒìŠ¤íŠ¸ 1: ê¸°ë³¸ ë Œë”ë§
  â–¡ ê³µê°„ ëª¨ë¸ ë¡œë”© í™•ì¸
  â–¡ ê°€êµ¬ 4ì¢… ë°°ì¹˜ í™•ì¸
  â–¡ ìƒí’ˆ 5ê°œ ìŠ¬ë¡¯ ìœ„ì¹˜ ë Œë”ë§
  â–¡ ì¹´ë©”ë¼ ì»¨íŠ¸ë¡¤ (íšŒì „/ì¤Œ/íŒ¨ë‹)

â–¡ í…ŒìŠ¤íŠ¸ 2: ìŠ¬ë¡¯ ìŠ¤ëƒ…
  â–¡ ìƒí’ˆ ë“œë˜ê·¸ ì‹œ ìŠ¬ë¡¯ í•˜ì´ë¼ì´íŠ¸
  â–¡ í˜¸í™˜ ìŠ¬ë¡¯ì—ë§Œ ìŠ¤ëƒ… í™•ì¸
    - coat â†’ hanger ìŠ¬ë¡¯ (O)
    - coat â†’ shelf ìŠ¬ë¡¯ (X)
  â–¡ ë¹„í˜¸í™˜ ìŠ¬ë¡¯ ë¹¨ê°„ìƒ‰ í‘œì‹œ

â–¡ í…ŒìŠ¤íŠ¸ 3: ë°°ì¹˜ ì €ì¥
  â–¡ ìƒí’ˆ ìœ„ì¹˜ ë³€ê²½ í›„ ì €ì¥
  â–¡ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ í›„ ë³µì›
  â–¡ Undo/Redo ë™ì‘

â–¡ í…ŒìŠ¤íŠ¸ 4: AI ìµœì í™”
  â–¡ ìµœì í™” ìƒì„± ìš”ì²­
  â–¡ ì¶”ì²œ ê²°ê³¼ íŒ¨ë„ í‘œì‹œ
  â–¡ Before/After ë¹„êµ ë·°
  â–¡ ë³€ê²½ì‚¬í•­ ì ìš©/ê±°ì ˆ
```

---

## 6. 3D ëª¨ë¸ ì œì‘ ìŠ¤í™

### ê³µí†µ ìš”êµ¬ì‚¬í•­

| í•­ëª© | ìš”êµ¬ì‚¬í•­ |
|------|----------|
| í¬ë§· | GLB (glTF Binary) |
| ë‹¨ìœ„ | ë¯¸í„° (1 unit = 1 meter) |
| ì›ì  | ëª¨ë¸ ë°”ë‹¥ ì¤‘ì•™ |
| Yì¶• | ìœ„ìª½ (Y-up) |
| í…ìŠ¤ì²˜ | ì„ íƒì‚¬í•­ (MVPëŠ” solid color ê¶Œì¥) |
| ìµœëŒ€ í´ë¦¬ê³¤ | ê³µê°„ 1K, ê°€êµ¬ 500, ìƒí’ˆ 500, ì•„ë°”íƒ€ 1K |

### ê°€êµ¬ë³„ ìŠ¬ë¡¯ ìœ„ì¹˜ ì •ì˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  rack_hanger_simple.glb - ìŠ¬ë¡¯ ìœ„ì¹˜ (ê°€êµ¬ ì›ì  ê¸°ì¤€)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚     â”‚  H1  H2  H3  H4  H5  H6  H7  H8  H9  H10  â”‚  â† y=1.6m             â”‚
â”‚     â”‚   â—‹   â—‹   â—‹   â—‹   â—‹   â—‹   â—‹   â—‹   â—‹   â—‹   â”‚                       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚     x: -0.5 ~ +0.5 (ê°„ê²© 0.11m)                                        â”‚
â”‚                                                                         â”‚
â”‚  slot_position ì˜ˆì‹œ:                                                    â”‚
â”‚  H1: {"x": -0.5, "y": 1.6, "z": 0}                                     â”‚
â”‚  H2: {"x": -0.39, "y": 1.6, "z": 0}                                    â”‚
â”‚  ...                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  shelf_simple.glb - ìŠ¬ë¡¯ ìœ„ì¹˜ (ê°€êµ¬ ì›ì  ê¸°ì¤€)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚     â”‚ S4-1  S4-2  S4-3 â”‚ â† y=1.4m                                      â”‚
â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                â”‚
â”‚     â”‚ S3-1  S3-2  S3-3 â”‚ â† y=1.0m                                      â”‚
â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                â”‚
â”‚     â”‚ S2-1  S2-2  S2-3 â”‚ â† y=0.6m                                      â”‚
â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                â”‚
â”‚     â”‚ S1-1  S1-2  S1-3 â”‚ â† y=0.2m                                      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚     x: -0.3 ~ +0.3 (ê°„ê²© 0.3m)                                         â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. Storage ì—…ë¡œë“œ ê°€ì´ë“œ

### Supabase Storage ì„¤ì •

```bash
# 1. Supabase Dashboard > Storage > New Bucket
Bucket name: 3d-models
Public: Yes (ì²´í¬)

# 2. í´ë” êµ¬ì¡° ìƒì„±
3d-models/
â”œâ”€â”€ spaces/
â”‚   â””â”€â”€ store_simple_10x10.glb
â”œâ”€â”€ furniture/
â”‚   â”œâ”€â”€ rack_hanger_simple.glb
â”‚   â”œâ”€â”€ shelf_simple.glb
â”‚   â”œâ”€â”€ table_simple.glb
â”‚   â””â”€â”€ rack_shoes_simple.glb
â”œâ”€â”€ products/
â”‚   â”œâ”€â”€ product_coat.glb
â”‚   â”œâ”€â”€ product_sweater.glb
â”‚   â”œâ”€â”€ product_shoes.glb
â”‚   â”œâ”€â”€ product_giftbox.glb
â”‚   â””â”€â”€ product_tshirt_stack.glb
â””â”€â”€ avatars/
    â”œâ”€â”€ avatar_staff.glb
    â””â”€â”€ avatar_customer.glb

# 3. Public URL í˜•ì‹
https://<project-id>.supabase.co/storage/v1/object/public/3d-models/spaces/store_simple_10x10.glb
```

### URL ì—°ê²° (MVP_MODEL_URL_UPDATE.sql)

```sql
-- MVP_MODEL_URL_UPDATE.sql íŒŒì¼ì„ ì—´ê³  ì•„ë˜ ë¶€ë¶„ ìˆ˜ì •:

DO $$
DECLARE
  -- âš ï¸ ì‹¤ì œ URLë¡œ ë³€ê²½!
  v_storage_base TEXT := 'https://YOUR_PROJECT_ID.supabase.co/storage/v1/object/public/3d-models';
  ...
```

---

## 8. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ê¸°ë³¸ ë Œë”ë§ í™•ì¸

```typescript
// DigitalTwinStudio í˜ì´ì§€ì—ì„œ:
1. SceneViewer ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ í™•ì¸
2. ê³µê°„ ëª¨ë¸ ë¡œë”© â†’ ë§¤ì¥ ë°”ë‹¥/ë²½ í‘œì‹œ
3. ê°€êµ¬ ëª¨ë¸ ë¡œë”© â†’ 4ì¢… ê°€êµ¬ ë°°ì¹˜
4. ìƒí’ˆ ëª¨ë¸ ë¡œë”© â†’ 5ê°œ MVP ìƒí’ˆ í‘œì‹œ
5. ì¹´ë©”ë¼ ì»¨íŠ¸ë¡¤ í…ŒìŠ¤íŠ¸
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ìŠ¬ë¡¯ í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸

```
1. ì½”íŠ¸(hanging) ì„ íƒ
2. í–‰ê±° ìŠ¬ë¡¯ìœ¼ë¡œ ë“œë˜ê·¸ â†’ ì´ˆë¡ìƒ‰ í•˜ì´ë¼ì´íŠ¸ (í˜¸í™˜)
3. ì„ ë°˜ ìŠ¬ë¡¯ìœ¼ë¡œ ë“œë˜ê·¸ â†’ ë¹¨ê°„ìƒ‰ í•˜ì´ë¼ì´íŠ¸ (ë¹„í˜¸í™˜)
4. í–‰ê±° ìŠ¬ë¡¯ì— ë“œë¡­ â†’ ìë™ ìŠ¤ëƒ…
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: AI ìµœì í™” í…ŒìŠ¤íŠ¸

```
1. OptimizationPanelì—ì„œ "ìµœì í™” ìƒì„±" í´ë¦­
2. generate-optimization Edge Function í˜¸ì¶œ
3. ê²°ê³¼ í‘œì‹œ (ì¶”ì²œ ë³€ê²½ì‚¬í•­)
4. ComparisonViewë¡œ Before/After ë¹„êµ
5. ë³€ê²½ì‚¬í•­ ì ìš© ë˜ëŠ” ê±°ì ˆ
```

---

## ğŸ“ ë¬¸ì œ í•´ê²°

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

| ë¬¸ì œ | í•´ê²°ë°©ë²• |
|------|----------|
| ëª¨ë¸ì´ ë¡œë”©ë˜ì§€ ì•ŠìŒ | Storage URL í™•ì¸, CORS ì„¤ì • í™•ì¸ |
| ìŠ¬ë¡¯ ìœ„ì¹˜ê°€ ë§ì§€ ì•ŠìŒ | Blenderì—ì„œ ëª¨ë¸ ì›ì  í™•ì¸, slot_position ì¡°ì • |
| ìƒí’ˆì´ ìŠ¬ë¡¯ì— ìŠ¤ëƒ…ë˜ì§€ ì•ŠìŒ | compatible_display_types ë°°ì—´ í™•ì¸ |
| AI ìµœì í™” ì‹¤íŒ¨ | Edge Function ë¡œê·¸ í™•ì¸, API í‚¤ ì„¤ì • í™•ì¸ |

---

## 9. ë°ì´í„° í¸ì§‘ ê°€ì´ë“œ

ì´ ì„¹ì…˜ì—ì„œëŠ” ê°€êµ¬ ìœ„ì¹˜, ìŠ¬ë¡¯ ì •ë³´, ìƒí’ˆ ë°°ì¹˜ ë“±ì„ ì§ì ‘ ìˆ˜ì •í•  ë•Œ ì–´ë–¤ íŒŒì¼ì˜ ì–´ëŠ ë¶€ë¶„ì„ í¸ì§‘í•´ì•¼ í•˜ëŠ”ì§€ ì„¤ëª…í•©ë‹ˆë‹¤.

### 9.1 í¸ì§‘ íŒŒì¼ ìœ„ì¹˜ ìš”ì•½

| ë°ì´í„° | íŒŒì¼ | ì„¹ì…˜ |
|--------|------|------|
| **ê°€êµ¬ ìœ„ì¹˜/íšŒì „/í¬ê¸°** | `NEURALTWIN_v8.3_unified_products_furniture.sql` | STEP 2 |
| **ìŠ¬ë¡¯ ê°œìˆ˜ ë° ìœ„ì¹˜** | `NEURALTWIN_v8.3_unified_products_furniture.sql` | STEP 3 |
| **ìƒí’ˆ-ìŠ¬ë¡¯ ë°°ì¹˜** | `MVP_MODEL_URL_UPDATE.sql` | MVP Product-Slot Assignment |
| **3D ëª¨ë¸ URL** | `MVP_MODEL_URL_UPDATE.sql` | ìƒë‹¨ v_storage_base |

---

### 9.2 ê°€êµ¬ ìœ„ì¹˜ í¸ì§‘

**íŒŒì¼**: `supabase/seeds/NEURALTWIN_v8.3_unified_products_furniture.sql`

**ì„¹ì…˜**: STEP 2: Create Furniture Entities (ì•½ 100ë²ˆì§¸ ì¤„)

```sql
-- ê°€êµ¬ ìœ„ì¹˜ í¸ì§‘ ì˜ˆì‹œ
INSERT INTO furniture (
  id, store_id, user_id, org_id, zone_id,
  furniture_code, furniture_name, furniture_type,
  width, height, depth,
  position, rotation, scale,        -- â† ì—¬ê¸°ì„œ í¸ì§‘
  movable, is_active
) VALUES
-- ì˜ë¥˜ í–‰ê±° #1
('b0000001-0000-0000-0000-000000000001'::UUID, v_store_id, v_user_id, v_org_id, v_zone_clothing,
 'RACK-001', 'ì˜ë¥˜ í–‰ê±° (ë”ë¸”) #1', 'clothing_rack_double',
 1.2, 1.8, 0.5,                     -- width, height, depth (ë¯¸í„°)
 '{"x":-6,"y":0,"z":2}'::jsonb,     -- â† position (ì›”ë“œ ì¢Œí‘œ)
 '{"x":0,"y":0,"z":0}'::jsonb,      -- â† rotation (ê°ë„)
 '{"x":1,"y":1,"z":1}'::jsonb,      -- â† scale (ë°°ìœ¨)
 true, true),

-- ì„ ë°˜í˜• ì§„ì—´ëŒ€ #1
('b0000011-0000-0000-0000-000000000011'::UUID, v_store_id, v_user_id, v_org_id, v_zone_clothing,
 'SHELF-001', 'ì„ ë°˜í˜• ì§„ì—´ëŒ€ #1', 'shelf_display',
 1.0, 1.8, 0.4,
 '{"x":-3,"y":0,"z":3}'::jsonb,     -- â† ì´ ì¢Œí‘œ ìˆ˜ì •
 '{"x":0,"y":0,"z":0}'::jsonb,
 '{"x":1,"y":1,"z":1}'::jsonb,
 true, true),
...
```

**ì¢Œí‘œ ì„¤ëª…**:
- `position.x`: ì¢Œìš° ìœ„ì¹˜ (ìŒìˆ˜: ì™¼ìª½, ì–‘ìˆ˜: ì˜¤ë¥¸ìª½)
- `position.y`: ë†’ì´ (ë°”ë‹¥ = 0)
- `position.z`: ì•ë’¤ ìœ„ì¹˜ (ìŒìˆ˜: ë’¤ìª½, ì–‘ìˆ˜: ì•ìª½)

---

### 9.3 ìŠ¬ë¡¯ ê°œìˆ˜ ë° ìœ„ì¹˜ í¸ì§‘

**íŒŒì¼**: `supabase/seeds/NEURALTWIN_v8.3_unified_products_furniture.sql`

**ì„¹ì…˜**: STEP 3: Create Furniture Slots (ì•½ 150ë²ˆì§¸ ì¤„)

```sql
-- í–‰ê±° ìŠ¬ë¡¯ í¸ì§‘ ì˜ˆì‹œ (RACK-001)
INSERT INTO furniture_slots (
  furniture_id, furniture_type, slot_id, slot_type,
  slot_position, slot_rotation,          -- â† ìŠ¬ë¡¯ ìœ„ì¹˜
  compatible_display_types,
  max_product_width, max_product_height, max_product_depth,
  store_id
)
SELECT
  'b0000001-0000-0000-0000-000000000001'::uuid,  -- furniture_id
  'clothing_rack_double',
  'H' || row_num,                        -- slot_id: H1, H2, H3...
  'hanger',
  jsonb_build_object(
    'x', -0.5 + (row_num - 1) * 0.11,    -- â† X ìœ„ì¹˜ (ê°„ê²© 0.11m)
    'y', 1.6,                             -- â† Y ë†’ì´ (1.6m)
    'z', 0                                -- â† Z ìœ„ì¹˜
  ),
  '{"x":0,"y":0,"z":0}'::jsonb,
  ARRAY['hanging'],                       -- â† í˜¸í™˜ display_type
  0.6, 1.2, 0.3,                         -- max í¬ê¸° ì œí•œ
  v_store_id
FROM generate_series(1, 10) AS row_num;  -- â† ìŠ¬ë¡¯ ê°œìˆ˜ (10ê°œ)
```

#### ìŠ¬ë¡¯ ê°œìˆ˜ ë³€ê²½

```sql
-- 10ê°œ â†’ 8ê°œë¡œ ë³€ê²½
FROM generate_series(1, 8) AS row_num;
```

#### ìŠ¬ë¡¯ ê°„ê²© ë³€ê²½

```sql
-- ê°„ê²© 0.11m â†’ 0.15më¡œ ë³€ê²½
'x', -0.5 + (row_num - 1) * 0.15,
```

#### ìŠ¬ë¡¯ ë†’ì´ ë³€ê²½

```sql
-- ë†’ì´ 1.6m â†’ 1.8më¡œ ë³€ê²½
'y', 1.8,
```

---

### 9.4 ì„ ë°˜/í…Œì´ë¸” ìŠ¬ë¡¯ (2D ë°°ì—´)

```sql
-- ì„ ë°˜ ìŠ¬ë¡¯ (4ë‹¨ Ã— 3ì—´ = 12ê°œ)
SELECT
  'b0000011-0000-0000-0000-000000000011'::uuid,
  'shelf_display',
  'S' || shelf_level || '-' || col_num,  -- S1-1, S1-2, S2-1...
  'shelf',
  jsonb_build_object(
    'x', -0.3 + (col_num - 1) * 0.3,     -- â† ì—´ ìœ„ì¹˜ (ê°„ê²© 0.3m)
    'y', 0.2 + (shelf_level - 1) * 0.4,  -- â† ë‹¨ ë†’ì´ (ê°„ê²© 0.4m)
    'z', 0
  ),
  ...
FROM
  generate_series(1, 4) AS shelf_level,   -- â† ë‹¨ ìˆ˜ (4ë‹¨)
  generate_series(1, 3) AS col_num;       -- â† ì—´ ìˆ˜ (3ì—´)
```

---

### 9.5 ìƒí’ˆ-ìŠ¬ë¡¯ ë°°ì¹˜ í¸ì§‘

**íŒŒì¼**: `supabase/seeds/MVP_MODEL_URL_UPDATE.sql`

**ì„¹ì…˜**: MVP Product-Slot Assignment (ì•½ 100ë²ˆì§¸ ì¤„)

```sql
-- ìƒí’ˆì„ íŠ¹ì • ê°€êµ¬ì˜ íŠ¹ì • ìŠ¬ë¡¯ì— ë°°ì¹˜

-- ì½”íŠ¸ â†’ RACK-001ì˜ H1 ìŠ¬ë¡¯
UPDATE products SET
  initial_furniture_id = 'b0000001-0000-0000-0000-000000000001'::UUID,  -- â† ê°€êµ¬ ID
  slot_id = 'H1',                                                        -- â† ìŠ¬ë¡¯ ID
  model_3d_position = '{"x":-6,"y":1.6,"z":2}'::jsonb                   -- â† ì›”ë“œ ì¢Œí‘œ
WHERE sku = 'SKU-OUT-001';

-- ìŠ¬ë¡¯ ì ìœ  ìƒíƒœ ì—…ë°ì´íŠ¸ (í•„ìˆ˜)
UPDATE furniture_slots SET
  is_occupied = true,
  occupied_by_product_id = 'f0000001-0000-0000-0000-000000000000'::UUID
WHERE furniture_id = 'b0000001-0000-0000-0000-000000000001'::UUID
  AND slot_id = 'H1';
```

#### ìƒí’ˆ ì›”ë“œ ì¢Œí‘œ ê³„ì‚°

```
ìƒí’ˆ ì›”ë“œ ì¢Œí‘œ = ê°€êµ¬ position + ìŠ¬ë¡¯ slot_position

ì˜ˆì‹œ:
â”œâ”€â”€ ê°€êµ¬ position:      {"x":-6,   "y":0,   "z":2}
â”œâ”€â”€ ìŠ¬ë¡¯ slot_position: {"x":-0.5, "y":1.6, "z":0}
â””â”€â”€ ìƒí’ˆ ì›”ë“œ ì¢Œí‘œ:     {"x":-6.5, "y":1.6, "z":2}
```

---

### 9.6 Display Type ì •ì˜ (6ì¢…)

| display_type | ì„¤ëª… | ë°°ì¹˜ ê°€ëŠ¥ ìŠ¬ë¡¯ |
|--------------|------|----------------|
| `hanging` | í–‰ê±°ì— ê±¸ë¦° ìƒíƒœ | hanger, hook |
| `standing` | ë§ˆë„¤í‚¹ ì°©ìš© ìƒíƒœ | mannequin, rack |
| `folded` | ì ‘íŒ ìƒíƒœ | shelf, table |
| `located` | ì˜¬ë ¤ì§„ ìƒíƒœ | shelf, table, rack |
| `boxed` | ë°•ìŠ¤ í¬ì¥ ìƒíƒœ | shelf, table |
| `stacked` | ìŒ“ì¸ ìƒíƒœ | table |

### 9.7 ì¹´í…Œê³ ë¦¬ë³„ í˜¸í™˜ Display Types

| ì¹´í…Œê³ ë¦¬ | compatible_display_types |
|----------|--------------------------|
| ì•„ìš°í„°/ìƒì˜/í•˜ì˜ | `['hanging', 'standing', 'folded']` |
| ì‹ ë°œ | `['standing', 'located']` |
| ê°€ë°© | `['hanging', 'standing', 'located']` |
| ìŠ¤ì¹´í”„ | `['hanging', 'standing', 'folded', 'stacked']` |
| ë²¨íŠ¸ | `['located', 'standing']` |
| ì‹œê³„/ì¥¬ì–¼ë¦¬/ëª¨ì/ì•ˆê²½ | `['standing', 'located']` |
| ì†ì˜·/ì–‘ë§ | `['boxed', 'located', 'standing', 'stacked']` |
| ì„ ë¬¼ì„¸íŠ¸ | `['boxed']` |
| í‹°ì…”ì¸ íŒ© | `['stacked']` |

### 9.8 Slot Type â†’ Display Type ë§¤í•‘

| slot_type | compatible_display_types | ëŒ€ìƒ ìƒí’ˆ ì˜ˆì‹œ |
|-----------|--------------------------|----------------|
| `hanger` | `['hanging']` | ì½”íŠ¸, ìì¼“, ì…”ì¸ , íŒ¬ì¸  |
| `mannequin` | `['standing']` | ë§ˆë„¤í‚¹ì— ì…í˜€ì§„ ì˜ë¥˜, ì‹ ë°œ, ì•¡ì„¸ì„œë¦¬ |
| `shelf` | `['folded', 'located', 'boxed']` | ì ‘íŒ ì˜·, ì˜¬ë ¤ì§„ ìƒí’ˆ, ë°•ìŠ¤ |
| `table` | `['folded', 'located', 'boxed', 'stacked']` | ë‹¤ì–‘í•œ ì§„ì—´ |
| `rack` | `['located', 'standing']` | ì‹ ë°œ, ì•¡ì„¸ì„œë¦¬ |
| `hook` | `['hanging']` | ê°€ë°©, ìŠ¤ì¹´í”„ |
| `drawer` | `['folded', 'boxed']` | ì ‘íŒ ì˜·, ë°•ìŠ¤ |

---

### 9.9 ID ì°¸ì¡°í‘œ

#### ê°€êµ¬ ID (furniture)

| furniture_code | furniture_id | íƒ€ì… |
|----------------|--------------|------|
| RACK-001 | `b0000001-...-000000000001` | clothing_rack_double |
| RACK-002 | `b0000002-...-000000000002` | clothing_rack_double |
| RACK-003 | `b0000003-...-000000000003` | clothing_rack_double |
| RACK-004 | `b0000004-...-000000000004` | clothing_rack_double |
| SHELF-001 | `b0000011-...-000000000011` | shelf_display |
| SHELF-002 | `b0000012-...-000000000012` | shelf_display |
| TABLE-001 | `b0000021-...-000000000021` | table_display |
| TABLE-002 | `b0000022-...-000000000022` | table_display |
| SHOE-001 | `b0000031-...-000000000031` | shoe_rack |
| **MANNEQUIN-001** | `b0000051-...-000000000051` | **mannequin_full** |
| **MANNEQUIN-002** | `b0000052-...-000000000052` | **mannequin_full** |
| **MANNEQUIN-003** | `b0000053-...-000000000053` | **mannequin_half** |
| **MANNEQUIN-004** | `b0000054-...-000000000054` | **mannequin_head** |

#### ìƒí’ˆ ID (products)

| SKU | product_id | display_type | compatible_display_types |
|-----|------------|--------------|--------------------------|
| SKU-OUT-001 | `f0000001-...-000000000000` | hanging | hanging, standing, folded |
| SKU-TOP-001 | `f0000003-...-000000000000` | hanging | hanging, standing, folded |
| SKU-BTM-001 | `f0000007-...-000000000000` | hanging | hanging, standing, folded |
| SKU-SHO-001 | `f0000010-...-000000000000` | located | standing, located |
| SKU-BAG-001 | `f0000013-...-000000000000` | hanging | hanging, standing, located |
| SKU-BLT-001 | `f0000016-...-000000000000` | located | located, standing |
| SKU-HAT-001 | `f0000022-...-000000000000` | located | standing, located |
| SKU-GFT-001 | `f0000024-...-000000000000` | boxed | boxed |
| SKU-TSK-001 | `f0000025-...-000000000000` | stacked | stacked |

#### ë§ˆë„¤í‚¹ ìŠ¬ë¡¯ ID (mannequin slots)

| Mannequin Type | Slot IDs | ìš©ë„ |
|----------------|----------|------|
| mannequin_full | M-TOP, M-BTM, M-SHOE, M-ACC | ìƒì˜, í•˜ì˜, ì‹ ë°œ, ì•¡ì„¸ì„œë¦¬ |
| mannequin_half | M-TOP, M-ACC | ìƒì˜, ì•¡ì„¸ì„œë¦¬ |
| mannequin_head | M-HAT, M-GLASS, M-EARRING | ëª¨ì, ì•ˆê²½, ê·€ê±¸ì´ |

---

### 9.10 í¸ì§‘ ì›Œí¬í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ë°ì´í„° í¸ì§‘ ì›Œí¬í”Œë¡œìš°                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  1ï¸âƒ£ 3D ëª¨ë¸ ì œì‘ í›„ ì‹¤ì œ í¬ê¸° ì¸¡ì •                                       â”‚
â”‚     â””â”€â”€ Blenderì—ì„œ ê°€êµ¬ ëª¨ë¸ì˜ ìŠ¬ë¡¯ ìœ„ì¹˜ ì¸¡ì •                          â”‚
â”‚                                                                         â”‚
â”‚  2ï¸âƒ£ NEURALTWIN_v8.3_unified_products_furniture.sql í¸ì§‘                â”‚
â”‚     â”œâ”€â”€ STEP 2: ê°€êµ¬ position ìˆ˜ì • (ì›”ë“œ ì¢Œí‘œ)                         â”‚
â”‚     â””â”€â”€ STEP 3: ìŠ¬ë¡¯ slot_position ìˆ˜ì • (ìƒëŒ€ ì¢Œí‘œ)                    â”‚
â”‚                                                                         â”‚
â”‚  3ï¸âƒ£ MVP_MODEL_URL_UPDATE.sql í¸ì§‘                                      â”‚
â”‚     â”œâ”€â”€ v_storage_base URL ìˆ˜ì •                                        â”‚
â”‚     â””â”€â”€ ìƒí’ˆ-ìŠ¬ë¡¯ ë°°ì¹˜ ìˆ˜ì •                                             â”‚
â”‚                                                                         â”‚
â”‚  4ï¸âƒ£ SQL ì¬ì‹¤í–‰                                                          â”‚
â”‚     â”œâ”€â”€ v8.3 ì‹œë“œ ì¬ì‹¤í–‰ (ê°€êµ¬/ìŠ¬ë¡¯ ì—…ë°ì´íŠ¸)                          â”‚
â”‚     â””â”€â”€ MVP URL ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ (URL/ë°°ì¹˜ ì ìš©)                          â”‚
â”‚                                                                         â”‚
â”‚  5ï¸âƒ£ í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸                                                   â”‚
â”‚     â””â”€â”€ SceneViewerì—ì„œ ìœ„ì¹˜ í™•ì¸                                       â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*ë¬¸ì„œ ë²„ì „: 1.2*
*ìµœì¢… ì—…ë°ì´íŠ¸: 2025-12-16*
*ë³€ê²½ì‚¬í•­: ë§ˆë„¤í‚¹ ì‹œìŠ¤í…œ ì¶”ê°€, display_type 6ì¢… (located ì¶”ê°€), compatible_display_types ì§€ì›*
