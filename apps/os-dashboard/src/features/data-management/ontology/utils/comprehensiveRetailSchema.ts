import { supabase } from "@/integrations/supabase/client";

/**
 * ìµœì í™”ëœ ë¦¬í…Œì¼ ì˜¨í†¨ë¡œì§€ ìŠ¤í‚¤ë§ˆ v3.0
 * 62ê°œ ì—”í‹°í‹° (CRITICAL: 25, HIGH: 19, MEDIUM: 13, LOW: 5)
 * 99ê°œ ê´€ê³„ (CRITICAL: 32, HIGH: 27, MEDIUM: 17, LOW: 10, ADDITIONAL: 13)
 */

export const COMPREHENSIVE_ENTITY_TYPES = [
  // ==========================================
  // ğŸ”´ CRITICAL (í•„ìˆ˜) - 25ê°œ
  // ==========================================

  // 1. ì¡°ì§/ë§¤ì¥ (2ê°œ)
  {
    name: "Organization",
    label: "ì¡°ì§",
    description: "ë¦¬í…Œì¼ ì¡°ì§ (ë³¸ì‚¬/í”„ëœì°¨ì´ì¦ˆ)",
    icon: "Building2",
    color: "#3b82f6",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "org_id", type: "string", required: true, description: "ì¡°ì§ ID" },
      { name: "org_name", type: "string", required: true, description: "ì¡°ì§ëª…" },
      { name: "org_type", type: "string", required: false, description: "ì¡°ì§ ìœ í˜• (retail/franchise/enterprise)" },
      { name: "industry", type: "string", required: false, description: "ì—…ì¢…" },
      { name: "country", type: "string", required: false, description: "êµ­ê°€" },
      { name: "created_at", type: "string", required: false, description: "ìƒì„±ì¼" },
    ],
  },
  {
    name: "Store",
    label: "ë§¤ì¥",
    description: "ë¬¼ë¦¬ì  ë¦¬í…Œì¼ ë§¤ì¥",
    icon: "Store",
    color: "#10b981",
    priority: "critical",
    model_3d_type: "building",
    model_3d_dimensions: { width: 20, height: 4, depth: 15 },
    properties: [
      { name: "store_code", type: "string", required: true, description: "ë§¤ì¥ ì½”ë“œ" },
      { name: "store_name", type: "string", required: true, description: "ë§¤ì¥ëª…" },
      { name: "address", type: "string", required: true, description: "ì£¼ì†Œ" },
      { name: "area_sqm", type: "number", required: true, description: "ë©´ì  (ì œê³±ë¯¸í„°)" },
      { name: "opening_date", type: "string", required: false, description: "ì˜¤í”ˆì¼" },
      { name: "store_format", type: "string", required: false, description: "ë§¤ì¥ í¬ë§· (flagship/standard/compact)" },
      { name: "region", type: "string", required: false, description: "ì§€ì—­" },
      { name: "district", type: "string", required: false, description: "êµ¬ì—­" },
      { name: "manager_name", type: "string", required: false, description: "ë§¤ë‹ˆì €ëª…" },
      { name: "org_id", type: "string", required: true, description: "ì¡°ì§ ID" },
    ],
  },

  // 2. ê³µê°„ êµ¬ì¡° (3ê°œ)
  {
    name: "Zone",
    label: "êµ¬ì—­",
    description: "ë§¤ì¥ ë‚´ íŠ¹ì • ê¸°ëŠ¥ ì˜ì—­",
    icon: "BoxSelect",
    color: "#8b5cf6",
    priority: "critical",
    model_3d_type: "zone",
    model_3d_dimensions: { width: 5, height: 3, depth: 5 },
    properties: [
      { name: "zone_id", type: "string", required: true, description: "êµ¬ì—­ ID" },
      {
        name: "zone_type",
        type: "string",
        required: true,
        description: "êµ¬ì—­ ìœ í˜• (entrance/product_display/checkout/storage/staff/fitting/rest)",
      },
      { name: "zone_name", type: "string", required: true, description: "êµ¬ì—­ëª…" },
      { name: "area_sqm", type: "number", required: false, description: "ë©´ì  (ì œê³±ë¯¸í„°)" },
      { name: "purpose", type: "string", required: false, description: "ëª©ì " },
      { name: "traffic_level", type: "string", required: false, description: "íŠ¸ë˜í”½ ë ˆë²¨ (high/medium/low)" },
    ],
  },
  {
    name: "Entrance",
    label: "ì¶œì…êµ¬",
    description: "ë§¤ì¥ ì¶œì…êµ¬",
    icon: "DoorOpen",
    color: "#f59e0b",
    priority: "critical",
    model_3d_type: "structure",
    model_3d_dimensions: { width: 2, height: 2.5, depth: 0.1 },
    properties: [
      { name: "entrance_id", type: "string", required: true, description: "ì¶œì…êµ¬ ID" },
      { name: "entrance_type", type: "string", required: false, description: "ìœ í˜• (main/side/emergency)" },
      { name: "width_m", type: "number", required: false, description: "ë„ˆë¹„ (ë¯¸í„°)" },
      { name: "is_primary", type: "boolean", required: false, description: "ë©”ì¸ ì¶œì…êµ¬ ì—¬ë¶€" },
    ],
  },
  {
    name: "CheckoutCounter",
    label: "ê³„ì‚°ëŒ€",
    description: "ê³ ê° ê²°ì œ ì²˜ë¦¬ ê³„ì‚°ëŒ€",
    icon: "CreditCard",
    color: "#ef4444",
    priority: "critical",
    model_3d_type: "furniture",
    model_3d_dimensions: { width: 1.5, height: 1, depth: 0.8 },
    properties: [
      { name: "counter_id", type: "string", required: true, description: "ê³„ì‚°ëŒ€ ID" },
      { name: "counter_number", type: "number", required: true, description: "ê³„ì‚°ëŒ€ ë²ˆí˜¸" },
      { name: "has_pos_terminal", type: "boolean", required: false, description: "POS ë‹¨ë§ê¸° ë³´ìœ " },
      { name: "supports_mobile_payment", type: "boolean", required: false, description: "ëª¨ë°”ì¼ ê²°ì œ ì§€ì›" },
      { name: "is_express_lane", type: "boolean", required: false, description: "ìµìŠ¤í”„ë ˆìŠ¤ ë ˆì¸" },
    ],
  },

  // 3. ì œí’ˆ ê´€ë ¨ (5ê°œ)
  {
    name: "Category",
    label: "ì¹´í…Œê³ ë¦¬",
    description: "ì œí’ˆ ì¹´í…Œê³ ë¦¬",
    icon: "FolderTree",
    color: "#06b6d4",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "category_id", type: "string", required: true, description: "ì¹´í…Œê³ ë¦¬ ID" },
      { name: "category_name", type: "string", required: true, description: "ì¹´í…Œê³ ë¦¬ëª…" },
      { name: "parent_category_id", type: "string", required: false, description: "ìƒìœ„ ì¹´í…Œê³ ë¦¬" },
      { name: "category_level", type: "number", required: false, description: "ê³„ì¸µ ë ˆë²¨ (1/2/3)" },
      { name: "display_order", type: "number", required: false, description: "í‘œì‹œ ìˆœì„œ" },
    ],
  },
  {
    name: "Product",
    label: "ì œí’ˆ",
    description: "íŒë§¤ ì œí’ˆ",
    icon: "Package",
    color: "#f97316",
    priority: "critical",
    model_3d_type: "product",
    model_3d_dimensions: { width: 0.1, height: 0.2, depth: 0.1 },
    properties: [
      { name: "sku", type: "string", required: true, description: "SKU" },
      { name: "product_name", type: "string", required: true, description: "ì œí’ˆëª…" },
      { name: "category_id", type: "string", required: true, description: "ì¹´í…Œê³ ë¦¬ ID" },
      { name: "brand", type: "string", required: false, description: "ë¸Œëœë“œ" },
      { name: "selling_price", type: "number", required: true, description: "íŒë§¤ê°€" },
      { name: "cost_price", type: "number", required: false, description: "ì›ê°€" },
      { name: "supplier", type: "string", required: false, description: "ê³µê¸‰ì—…ì²´" },
      { name: "lead_time_days", type: "number", required: false, description: "ë¦¬ë“œíƒ€ì„ (ì¼)" },
    ],
  },
  {
    name: "Inventory",
    label: "ì¬ê³ ",
    description: "ì œí’ˆ ì¬ê³ ",
    icon: "Archive",
    color: "#78716c",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "inventory_id", type: "string", required: true, description: "ì¬ê³  ID" },
      { name: "product_id", type: "string", required: true, description: "ì œí’ˆ ID" },
      { name: "store_id", type: "string", required: true, description: "ë§¤ì¥ ID" },
      { name: "current_stock", type: "number", required: true, description: "í˜„ì¬ ì¬ê³ " },
      { name: "minimum_stock", type: "number", required: true, description: "ìµœì†Œ ì¬ê³ " },
      { name: "optimal_stock", type: "number", required: true, description: "ìµœì  ì¬ê³ " },
      { name: "weekly_demand", type: "number", required: false, description: "ì£¼ê°„ ìˆ˜ìš”" },
      { name: "last_updated", type: "string", required: false, description: "ìµœì¢… ì—…ë°ì´íŠ¸" },
    ],
  },
  {
    name: "Brand",
    label: "ë¸Œëœë“œ",
    description: "ì œí’ˆ ë¸Œëœë“œ",
    icon: "Award",
    color: "#a855f7",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "brand_id", type: "string", required: true, description: "ë¸Œëœë“œ ID" },
      { name: "brand_name", type: "string", required: true, description: "ë¸Œëœë“œëª…" },
      {
        name: "brand_tier",
        type: "string",
        required: false,
        description: "ë¸Œëœë“œ ë“±ê¸‰ (luxury/premium/standard/value)",
      },
      { name: "origin_country", type: "string", required: false, description: "ì›ì‚°ì§€" },
    ],
  },
  {
    name: "Promotion",
    label: "í”„ë¡œëª¨ì…˜",
    description: "ë§ˆì¼€íŒ… í”„ë¡œëª¨ì…˜",
    icon: "Tag",
    color: "#ec4899",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "promotion_id", type: "string", required: true, description: "í”„ë¡œëª¨ì…˜ ID" },
      { name: "promotion_name", type: "string", required: true, description: "í”„ë¡œëª¨ì…˜ëª…" },
      { name: "promotion_type", type: "string", required: false, description: "ìœ í˜• (discount/bogo/bundle/seasonal)" },
      { name: "start_date", type: "string", required: true, description: "ì‹œì‘ì¼" },
      { name: "end_date", type: "string", required: true, description: "ì¢…ë£Œì¼" },
      { name: "discount_rate", type: "number", required: false, description: "í• ì¸ìœ¨" },
      { name: "target_products", type: "array", required: false, description: "ëŒ€ìƒ ì œí’ˆ ëª©ë¡" },
      { name: "target_zones", type: "array", required: false, description: "ëŒ€ìƒ êµ¬ì—­ ëª©ë¡" },
    ],
  },

  // 4. ê³ ê°/ê±°ë˜ (4ê°œ)
  {
    name: "Customer",
    label: "ê³ ê°",
    description: "ê³ ê° ì •ë³´",
    icon: "User",
    color: "#22c55e",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "customer_id", type: "string", required: true, description: "ê³ ê° ID" },
      { name: "age_group", type: "string", required: false, description: "ì—°ë ¹ëŒ€ (10s/20s/30s/40s/50s/60s+)" },
      { name: "gender", type: "string", required: false, description: "ì„±ë³„ (male/female/other)" },
      {
        name: "customer_segment",
        type: "string",
        required: false,
        description: "ê³ ê° ì„¸ê·¸ë¨¼íŠ¸ (VIP/regular/new/lapsed)",
      },
      { name: "signup_date", type: "string", required: false, description: "ê°€ì…ì¼" },
      {
        name: "loyalty_tier",
        type: "string",
        required: false,
        description: "ë¡œì—´í‹° ë“±ê¸‰ (platinum/gold/silver/bronze)",
      },
      { name: "total_purchases", type: "number", required: false, description: "ëˆ„ì  êµ¬ë§¤ì•¡" },
      { name: "visit_frequency", type: "string", required: false, description: "ë°©ë¬¸ ë¹ˆë„ (high/medium/low)" },
    ],
  },
  {
    name: "Visit",
    label: "ë°©ë¬¸",
    description: "ê³ ê° ë§¤ì¥ ë°©ë¬¸",
    icon: "UserCheck",
    color: "#14b8a6",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "visit_id", type: "string", required: true, description: "ë°©ë¬¸ ID" },
      { name: "customer_id", type: "string", required: true, description: "ê³ ê° ID" },
      { name: "store_id", type: "string", required: true, description: "ë§¤ì¥ ID" },
      { name: "visit_date", type: "string", required: true, description: "ë°©ë¬¸ì¼" },
      { name: "visit_time", type: "string", required: true, description: "ë°©ë¬¸ì‹œê°„" },
      { name: "duration_minutes", type: "number", required: false, description: "ì²´ë¥˜ ì‹œê°„ (ë¶„)" },
      { name: "zones_visited", type: "array", required: false, description: "ë°©ë¬¸ êµ¬ì—­ ëª©ë¡" },
      { name: "did_purchase", type: "boolean", required: false, description: "êµ¬ë§¤ ì—¬ë¶€" },
      { name: "entry_point", type: "string", required: false, description: "ì…êµ¬ ID" },
    ],
  },
  {
    name: "Transaction",
    label: "ê±°ë˜",
    description: "íŒë§¤ ê±°ë˜",
    icon: "Receipt",
    color: "#dc2626",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "transaction_id", type: "string", required: true, description: "ê±°ë˜ ID" },
      { name: "customer_id", type: "string", required: false, description: "ê³ ê° ID (ë¹„íšŒì› null)" },
      { name: "store_id", type: "string", required: true, description: "ë§¤ì¥ ID" },
      { name: "transaction_date", type: "string", required: true, description: "ê±°ë˜ì¼" },
      { name: "transaction_time", type: "string", required: true, description: "ê±°ë˜ì‹œê°„" },
      { name: "total_amount", type: "number", required: true, description: "ì´ ê¸ˆì•¡" },
      { name: "payment_method", type: "string", required: false, description: "ê²°ì œ ë°©ë²• (cash/card/mobile/mixed)" },
      { name: "discount_amount", type: "number", required: false, description: "í• ì¸ ê¸ˆì•¡" },
      { name: "num_items", type: "number", required: false, description: "êµ¬ë§¤ í’ˆëª© ìˆ˜" },
      { name: "products_purchased", type: "array", required: false, description: "êµ¬ë§¤ ì œí’ˆ ëª©ë¡" },
      { name: "counter_id", type: "string", required: false, description: "ê³„ì‚°ëŒ€ ID" },
    ],
  },
  {
    name: "Purchase",
    label: "êµ¬ë§¤",
    description: "ê°œë³„ ì œí’ˆ êµ¬ë§¤ ë¼ì¸",
    icon: "ShoppingBag",
    color: "#f59e0b",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "purchase_id", type: "string", required: true, description: "êµ¬ë§¤ ID" },
      { name: "transaction_id", type: "string", required: true, description: "ê±°ë˜ ID" },
      { name: "product_id", type: "string", required: true, description: "ì œí’ˆ ID" },
      { name: "quantity", type: "number", required: true, description: "ìˆ˜ëŸ‰" },
      { name: "unit_price", type: "number", required: true, description: "ë‹¨ê°€" },
      { name: "subtotal", type: "number", required: true, description: "ì†Œê³„" },
      { name: "discount_applied", type: "number", required: false, description: "ì ìš© í• ì¸" },
    ],
  },

  // 5. ì§ì›/ìš´ì˜ (2ê°œ)
  {
    name: "Staff",
    label: "ì§ì›",
    description: "ë§¤ì¥ ì§ì›",
    icon: "Users",
    color: "#6366f1",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "staff_id", type: "string", required: true, description: "ì§ì› ID" },
      { name: "staff_name", type: "string", required: true, description: "ì§ì›ëª…" },
      { name: "role", type: "string", required: true, description: "ì—­í•  (manager/sales/stockist/security)" },
      { name: "store_id", type: "string", required: true, description: "ì†Œì† ë§¤ì¥" },
      { name: "hire_date", type: "string", required: false, description: "ì…ì‚¬ì¼" },
      {
        name: "employment_type",
        type: "string",
        required: false,
        description: "ê³ ìš© ìœ í˜• (full_time/part_time/contract)",
      },
    ],
  },
  {
    name: "Shift",
    label: "ê·¼ë¬´ ì‹œê°„",
    description: "ì§ì› ê·¼ë¬´ ì‹œê°„",
    icon: "Clock",
    color: "#84cc16",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "shift_id", type: "string", required: true, description: "ê·¼ë¬´ ID" },
      { name: "staff_id", type: "string", required: true, description: "ì§ì› ID" },
      { name: "shift_date", type: "string", required: true, description: "ê·¼ë¬´ì¼" },
      { name: "start_time", type: "string", required: true, description: "ì‹œì‘ ì‹œê°„" },
      { name: "end_time", type: "string", required: true, description: "ì¢…ë£Œ ì‹œê°„" },
      {
        name: "shift_type",
        type: "string",
        required: false,
        description: "ê·¼ë¬´ ìœ í˜• (morning/afternoon/evening/night)",
      },
    ],
  },

  // 6. IoT/ì„¼ì„œ (1ê°œ)
  {
    name: "WiFiSensor",
    label: "WiFi ì„¼ì„œ",
    description: "WiFi ì‹ í˜¸ ê°ì§€ ì„¼ì„œ",
    icon: "Wifi",
    color: "#7c3aed",
    priority: "critical",
    model_3d_type: "device",
    model_3d_dimensions: { width: 0.2, height: 0.15, depth: 0.05 },
    properties: [
      { name: "sensor_id", type: "string", required: true, description: "ì„¼ì„œ ID" },
      { name: "zone_id", type: "string", required: true, description: "ì„¤ì¹˜ êµ¬ì—­" },
      { name: "mac_address", type: "string", required: false, description: "MAC ì£¼ì†Œ" },
      { name: "detection_range_m", type: "number", required: false, description: "íƒì§€ ë²”ìœ„ (ë¯¸í„°)" },
      { name: "status", type: "string", required: false, description: "ìƒíƒœ (active/inactive/maintenance)" },
    ],
  },

  // 7. ë°ì´í„° ì†ŒìŠ¤ & ë§¤í•‘ (8ê°œ)
  {
    name: "DataSource",
    label: "ë°ì´í„° ì†ŒìŠ¤",
    description: "POS/ERP/CRM/íŒŒì¼/ìŠ¤íŠ¸ë¦¼ ë“± ì›ì²œ ë°ì´í„° ì†ŒìŠ¤ ì‹œìŠ¤í…œ",
    icon: "Database",
    color: "#0ea5e9",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "source_id", type: "string", required: true, description: "ë°ì´í„° ì†ŒìŠ¤ ID" },
      { name: "system_name", type: "string", required: true, description: "ì‹œìŠ¤í…œ ì´ë¦„ (POS, ERP, CRM ë“±)" },
      { name: "source_type", type: "string", required: true, description: "ì†ŒìŠ¤ ìœ í˜• (db/file/api/stream)" },
      { name: "connection_info", type: "json", required: false, description: "ì ‘ì† ì •ë³´, ì—”ë“œí¬ì¸íŠ¸, ì¸ì¦ ì •ë³´" },
      { name: "owner", type: "string", required: false, description: "ë‹´ë‹¹ ë¶€ì„œ ë˜ëŠ” ë‹´ë‹¹ì" },
      {
        name: "refresh_frequency",
        type: "string",
        required: false,
        description: "ë°ì´í„° ê°±ì‹  ì£¼ê¸° (hourly/daily/real-time)",
      },
    ],
  },
  {
    name: "DataSourceTable",
    label: "ë°ì´í„° í…Œì´ë¸”",
    description: "ì›ì²œ ì‹œìŠ¤í…œ ë‚´ í…Œì´ë¸”/ë·°/íŒŒì¼ ë‹¨ìœ„",
    icon: "Table2",
    color: "#38bdf8",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "table_id", type: "string", required: true, description: "í…Œì´ë¸” ID" },
      { name: "source_id", type: "string", required: true, description: "DataSource.source_id" },
      { name: "table_name", type: "string", required: true, description: "í…Œì´ë¸”/íŒŒì¼ ì´ë¦„" },
      { name: "schema_raw", type: "json", required: false, description: "ì›ë³¸ ì»¬ëŸ¼ ìŠ¤í‚¤ë§ˆ(JSON)" },
      { name: "row_count", type: "number", required: false, description: "í–‰ ìˆ˜(ì¶”ì •)" },
      { name: "last_ingested_at", type: "string", required: false, description: "ë§ˆì§€ë§‰ ì ì¬ ì‹œì " },
    ],
  },
  {
    name: "ColumnMapping",
    label: "ì»¬ëŸ¼ ë§¤í•‘",
    description: "ì†ŒìŠ¤ ì»¬ëŸ¼ â†’ ì˜¨í†¨ë¡œì§€ ì—”í‹°í‹°/ì†ì„± ë§¤í•‘ ì •ì˜",
    icon: "GitBranch",
    color: "#22c55e",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "mapping_id", type: "string", required: true, description: "ì»¬ëŸ¼ ë§¤í•‘ ID" },
      { name: "table_id", type: "string", required: true, description: "DataSourceTable.table_id" },
      { name: "column_name", type: "string", required: true, description: "ì†ŒìŠ¤ ì»¬ëŸ¼ëª…" },
      { name: "entity_type", type: "string", required: true, description: "íƒ€ê²Ÿ ì—”í‹°í‹° íƒ€ì…ëª… (ì˜ˆ: Product)" },
      { name: "property_name", type: "string", required: true, description: "íƒ€ê²Ÿ ì†ì„±ëª… (ì˜ˆ: sku)" },
      { name: "semantic_type", type: "string", required: false, description: "id/fk/measure/dimension/timestamp ë“±" },
      { name: "data_type", type: "string", required: false, description: "string/number/boolean/date ë“±" },
      { name: "transform_expression", type: "string", required: false, description: "ì „ì²˜ë¦¬/ìºìŠ¤íŒ… ë¡œì§" },
      { name: "confidence", type: "number", required: false, description: "AI ë§¤í•‘ ì‹ ë¢°ë„ (0~1)" },
      { name: "mapping_source", type: "string", required: false, description: "ë§¤í•‘ ì†ŒìŠ¤ (manual/ai/rule)" },
    ],
  },

  // v3 ì´ë²¤íŠ¸ ì •ê·œí™” (ëª¨ë“  ë¡œê·¸ì˜ ê³µí†µ ìŠ¤í‚¤ë§ˆ)
  {
    name: "BaseEvent",
    label: "ê¸°ë³¸ ì´ë²¤íŠ¸",
    description: "ëª¨ë“  ì‹œìŠ¤í…œ/ì„¼ì„œ ì´ë²¤íŠ¸ì˜ ê³µí†µ ìƒìœ„ ì´ë²¤íŠ¸",
    icon: "Activity",
    color: "#f97316",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "event_id", type: "string", required: true, description: "ì´ë²¤íŠ¸ ID" },
      { name: "event_type", type: "string", required: true, description: "ì´ë²¤íŠ¸ ìœ í˜• (visit/transaction/sensor ë“±)" },
      {
        name: "source_type",
        type: "string",
        required: true,
        description: "ë°œìƒ ì†ŒìŠ¤ ìœ í˜• (wifi/camera/pos/beacon ë“±)",
      },
      { name: "store_id", type: "string", required: false, description: "ê´€ë ¨ ë§¤ì¥ ID" },
      { name: "zone_id", type: "string", required: false, description: "ê´€ë ¨ êµ¬ì—­ ID" },
      { name: "occurred_at", type: "string", required: true, description: "ì´ë²¤íŠ¸ ë°œìƒ ì‹œê°„" },
      { name: "payload", type: "json", required: false, description: "ì›ë³¸ ìƒì„¸ ë°ì´í„°(JSON)" },
    ],
  },
  {
    name: "CustomerEvent",
    label: "ê³ ê° ì´ë²¤íŠ¸",
    description: "ê³ ê°ì˜ ë°©ë¬¸/ì´ë™/êµ¬ë§¤ ë“± í–‰ë™ ì´ë²¤íŠ¸",
    icon: "UserRound",
    color: "#22c55e",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "event_id", type: "string", required: true, description: "BaseEvent.event_id" },
      { name: "customer_id", type: "string", required: false, description: "ê³ ê° ID (ë¹„íšŒì›ì¼ ìˆ˜ ìˆìŒ)" },
      { name: "session_id", type: "string", required: false, description: "ì„¸ì…˜/ë°©ë¬¸ ì„¸ì…˜ ID" },
      {
        name: "action_type",
        type: "string",
        required: true,
        description: "í–‰ë™ ìœ í˜• (enter_zone/leave_zone/pickup_product ë“±)",
      },
      { name: "product_id", type: "string", required: false, description: "ê´€ë ¨ ì œí’ˆ ID" },
      { name: "zone_id", type: "string", required: false, description: "ê´€ë ¨ êµ¬ì—­ ID" },
    ],
  },
  {
    name: "SensorEvent",
    label: "ì„¼ì„œ ì´ë²¤íŠ¸",
    description: "ì¹´ë©”ë¼/ë¹„ì½˜/ì„¼ì„œ ë“±ì—ì„œ ë°œìƒí•œ ì´ë²¤íŠ¸",
    icon: "Radar",
    color: "#7c3aed",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "event_id", type: "string", required: true, description: "BaseEvent.event_id" },
      {
        name: "sensor_type",
        type: "string",
        required: true,
        description: "ì„¼ì„œ ìœ í˜• (WiFi/Camera/Beacon/PeopleCounter ë“±)",
      },
      { name: "sensor_id", type: "string", required: false, description: "ì„¼ì„œ ID" },
      { name: "raw_signal_strength", type: "number", required: false, description: "ì‹ í˜¸ ì„¸ê¸° / confidence" },
      { name: "device_id", type: "string", required: false, description: "ê°ì§€ëœ ë””ë°”ì´ìŠ¤/ì„¸ì…˜ ID" },
    ],
  },

  // AI ì˜ˆì¸¡/ìµœì í™”ëŠ” ì´ë¯¸ DemandForecast / PriceOptimization ì—”í‹°í‹°ê°€ ìˆìœ¼ë¯€ë¡œ
  // ê·¸ ìœ„ì— ëª¨ë¸/ì‹¤í–‰/ì‹œë‚˜ë¦¬ì˜¤ë¥¼ CRITICALë¡œ ë‘”ë‹¤.
  {
    name: "Scenario",
    label: "ì‹œë‚˜ë¦¬ì˜¤",
    description: "What-if ì‹œë®¬ë ˆì´ì…˜ ê°€ì • (ë ˆì´ì•„ì›ƒ/ê°€ê²©/í”„ë¡œëª¨ì…˜/ì¸ë ¥ ë“±)",
    icon: "Wand2",
    color: "#f97316",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "scenario_id", type: "string", required: true, description: "ì‹œë‚˜ë¦¬ì˜¤ ID" },
      { name: "scenario_name", type: "string", required: true, description: "ì‹œë‚˜ë¦¬ì˜¤ ì´ë¦„" },
      {
        name: "type",
        type: "string",
        required: false,
        description: "ì‹œë‚˜ë¦¬ì˜¤ ìœ í˜• (layout/pricing/promotion/staffing ë“±)",
      },
      { name: "description", type: "string", required: false, description: "ìƒì„¸ ì„¤ëª…" },
      { name: "base_period", type: "json", required: false, description: "ê¸°ì¤€ ê¸°ê°„ (from, to)" },
      { name: "assumptions", type: "json", required: false, description: "ê°€ì •(ì˜ˆ: ê°€ê²© +10%, ì§ì› +1ëª… ë“±)" },
    ],
  },
  {
    name: "SimulationResult",
    label: "ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼",
    description: "ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í–‰ì— ë”°ë¥¸ KPI/ì§€í‘œ ë³€í™” ê²°ê³¼",
    icon: "BarChartBig",
    color: "#facc15",
    priority: "critical",
    model_3d_type: null,
    properties: [
      { name: "result_id", type: "string", required: true, description: "ê²°ê³¼ ID" },
      { name: "scenario_id", type: "string", required: true, description: "Scenario.scenario_id" },
      { name: "model_run_id", type: "string", required: false, description: "ModelRun.run_id" },
      { name: "store_id", type: "string", required: false, description: "ëŒ€ìƒ ë§¤ì¥" },
      { name: "product_id", type: "string", required: false, description: "ëŒ€ìƒ ìƒí’ˆ" },
      { name: "predicted_revenue", type: "number", required: false, description: "ì˜ˆì¸¡ ë§¤ì¶œ" },
      { name: "predicted_visits", type: "number", required: false, description: "ì˜ˆì¸¡ ë°©ë¬¸ ìˆ˜" },
      { name: "predicted_conversion_rate", type: "number", required: false, description: "ì˜ˆì¸¡ ì „í™˜ìœ¨" },
      { name: "baseline_diff", type: "json", required: false, description: "ê¸°ì¤€ ëŒ€ë¹„ ì°¨ì´ (ë§¤ì¶œ, ë°©ë¬¸, ë§ˆì§„ ë“±)" },
    ],
  },

  // ==========================================
  // ğŸŸ¡ HIGH (ê³ ìš°ì„ ìˆœìœ„) - 19ê°œ
  // ==========================================

  // 8. ì™¸ë¶€ ì»¨í…ìŠ¤íŠ¸ (3ê°œ)
  {
    name: "Weather",
    label: "ë‚ ì”¨",
    description: "ë‚ ì”¨ ë°ì´í„°",
    icon: "Cloud",
    color: "#38bdf8",
    priority: "high",
    model_3d_type: null,
    properties: [
      { name: "weather_id", type: "string", required: true, description: "ë‚ ì”¨ ID" },
      { name: "date", type: "string", required: true, description: "ë‚ ì§œ" },
      { name: "store_id", type: "string", required: true, description: "ë§¤ì¥ ID" },
      { name: "condition", type: "string", required: false, description: "ë‚ ì”¨ ìƒíƒœ (sunny/cloudy/rainy/snowy)" },
      { name: "temperature_c", type: "number", required: false, description: "ê¸°ì˜¨ (ì„­ì”¨)" },
      { name: "precipitation_mm", type: "number", required: false, description: "ê°•ìˆ˜ëŸ‰ (mm)" },
      { name: "is_extreme", type: "boolean", required: false, description: "ê·¹í•œ ë‚ ì”¨ ì—¬ë¶€" },
    ],
  },
  {
    name: "Holiday",
    label: "ê³µíœ´ì¼",
    description: "ê³µíœ´ì¼ ë° ì´ë²¤íŠ¸",
    icon: "Calendar",
    color: "#fb923c",
    priority: "high",
    model_3d_type: null,
    properties: [
      { name: "holiday_id", type: "string", required: true, description: "ê³µíœ´ì¼ ID" },
      { name: "date", type: "string", required: true, description: "ë‚ ì§œ" },
      { name: "holiday_name", type: "string", required: true, description: "ê³µíœ´ì¼ëª…" },
      {
        name: "holiday_type",
        type: "string",
        required: false,
        description: "ìœ í˜• (national/religious/commercial/regional)",
      },
      { name: "region", type: "string", required: false, description: "ì§€ì—­ (ì „êµ­/ì§€ì—­)" },
      { name: "impact_level", type: "string", required: false, description: "ì˜í–¥ë„ (high/medium/low)" },
    ],
  },
  {
    name: "EconomicIndicator",
    label: "ê²½ì œ ì§€í‘œ",
    description: "ê±°ì‹œê²½ì œ ì§€í‘œ",
    icon: "TrendingUp",
    color: "#10b981",
    priority: "high",
    model_3d_type: null,
    properties: [
      { name: "indicator_id", type: "string", required: true, description: "ì§€í‘œ ID" },
      { name: "date", type: "string", required: true, description: "ë‚ ì§œ" },
      {
        name: "indicator_type",
        type: "string",
        required: false,
        description: "ì§€í‘œ ìœ í˜• (cpi/unemployment/consumer_confidence)",
      },
      { name: "indicator_value", type: "number", required: false, description: "ì§€í‘œ ê°’" },
      { name: "region", type: "string", required: false, description: "ì§€ì—­" },
      { name: "data_source", type: "string", required: false, description: "ë°ì´í„° ì¶œì²˜" },
    ],
  },

  // 9. ê³µê°„ êµ¬ì¡° (3ê°œ)
  {
    name: "Aisle",
    label: "í†µë¡œ",
    description: "ê³ ê° ì´ë™ í†µë¡œ",
    icon: "MoveHorizontal",
    color: "#22c55e",
    priority: "high",
    model_3d_type: "zone",
    model_3d_dimensions: { width: 1.5, height: 3, depth: 10 },
    properties: [
      { name: "aisle_code", type: "string", required: true, description: "í†µë¡œ ì½”ë“œ" },
      { name: "aisle_type", type: "string", required: false, description: "í†µë¡œ ìœ í˜• (main/secondary/crossover)" },
      { name: "width_m", type: "number", required: true, description: "í†µë¡œ ë„ˆë¹„ (ë¯¸í„°)" },
      { name: "length_m", type: "number", required: true, description: "í†µë¡œ ê¸¸ì´ (ë¯¸í„°)" },
      { name: "connects_zones", type: "array", required: false, description: "ì—°ê²° êµ¬ì—­ ëª©ë¡" },
    ],
  },
  {
    name: "FittingRoom",
    label: "íƒˆì˜ì‹¤",
    description: "ì˜ë¥˜ ì°©ìš© ê³µê°„",
    icon: "Shirt",
    color: "#a855f7",
    priority: "high",
    model_3d_type: "room",
    model_3d_dimensions: { width: 1.2, height: 2.5, depth: 1.5 },
    properties: [
      { name: "fitting_room_id", type: "string", required: true, description: "íƒˆì˜ì‹¤ ID" },
      { name: "zone_id", type: "string", required: true, description: "ì†Œì† êµ¬ì—­" },
      { name: "size_category", type: "string", required: false, description: "í¬ê¸° (small/medium/large)" },
      { name: "has_mirror", type: "boolean", required: false, description: "ê±°ìš¸ ì—¬ë¶€" },
      { name: "occupancy_sensor", type: "boolean", required: false, description: "ì ìœ  ì„¼ì„œ" },
    ],
  },
  {
    name: "StorageRoom",
    label: "ì°½ê³ ",
    description: "ì¬ê³  ë³´ê´€ ê³µê°„",
    icon: "Warehouse",
    color: "#78716c",
    priority: "high",
    model_3d_type: "room",
    model_3d_dimensions: { width: 4, height: 3, depth: 5 },
    properties: [
      { name: "storage_id", type: "string", required: true, description: "ì°½ê³  ID" },
      { name: "storage_type", type: "string", required: false, description: "ë³´ê´€ ìœ í˜• (backstock/cold/hazmat)" },
      { name: "capacity_cbm", type: "number", required: false, description: "ìš©ëŸ‰ (ì„¸ì œê³±ë¯¸í„°)" },
      { name: "current_utilization", type: "number", required: false, description: "ì‚¬ìš©ë¥  (%)" },
    ],
  },

  // 10. ê°€êµ¬/ì§‘ê¸° (3ê°œ)
  {
    name: "Shelf",
    label: "ì„ ë°˜",
    description: "ìƒí’ˆ ì§„ì—´ ì„ ë°˜",
    icon: "Layers",
    color: "#3b82f6",
    priority: "high",
    model_3d_type: "furniture",
    model_3d_dimensions: { width: 1.2, height: 2, depth: 0.4 },
    properties: [
      { name: "shelf_id", type: "string", required: true, description: "ì„ ë°˜ ID" },
      { name: "zone_id", type: "string", required: true, description: "ì†Œì† êµ¬ì—­" },
      { name: "shelf_type", type: "string", required: false, description: "ì„ ë°˜ ìœ í˜• (wall/gondola/endcap)" },
      { name: "num_levels", type: "number", required: false, description: "ë‹¨ ìˆ˜" },
      { name: "width_m", type: "number", required: false, description: "ë„ˆë¹„ (ë¯¸í„°)" },
      { name: "height_m", type: "number", required: false, description: "ë†’ì´ (ë¯¸í„°)" },
      { name: "max_load_kg", type: "number", required: false, description: "ìµœëŒ€ í•˜ì¤‘ (kg)" },
    ],
  },
  {
    name: "Rack",
    label: "ë™",
    description: "ì˜ë¥˜ ê±¸ì´ ë™",
    icon: "Minimize2",
    color: "#06b6d4",
    priority: "high",
    model_3d_type: "furniture",
    model_3d_dimensions: { width: 1.2, height: 1.8, depth: 0.5 },
    properties: [
      { name: "rack_id", type: "string", required: true, description: "ë™ ID" },
      { name: "zone_id", type: "string", required: true, description: "ì†Œì† êµ¬ì—­" },
      { name: "rack_type", type: "string", required: false, description: "ë™ ìœ í˜• (round/straight/4way)" },
      { name: "capacity_units", type: "number", required: false, description: "ìˆ˜ìš© ìš©ëŸ‰" },
      { name: "has_casters", type: "boolean", required: false, description: "ë°”í€´ ì—¬ë¶€" },
    ],
  },
  {
    name: "DisplayTable",
    label: "ë””ìŠ¤í”Œë ˆì´ í…Œì´ë¸”",
    description: "ìƒí’ˆ ì§„ì—´ í…Œì´ë¸”",
    icon: "Table",
    color: "#8b5cf6",
    priority: "high",
    model_3d_type: "furniture",
    model_3d_dimensions: { width: 1.5, height: 0.9, depth: 1 },
    properties: [
      { name: "table_id", type: "string", required: true, description: "í…Œì´ë¸” ID" },
      { name: "zone_id", type: "string", required: true, description: "ì†Œì† êµ¬ì—­" },
      { name: "table_shape", type: "string", required: false, description: "í˜•íƒœ (rectangular/round/square)" },
      { name: "width_m", type: "number", required: false, description: "ë„ˆë¹„ (ë¯¸í„°)" },
      { name: "length_m", type: "number", required: false, description: "ê¸¸ì´ (ë¯¸í„°)" },
    ],
  },

  // 11. ì œí’ˆ ê´€ë ¨ (1ê°œ)
  {
    name: "Supplier",
    label: "ê³µê¸‰ì—…ì²´",
    description: "ì œí’ˆ ê³µê¸‰ì—…ì²´",
    icon: "Truck",
    color: "#059669",
    priority: "high",
    model_3d_type: null,
    properties: [
      { name: "supplier_id", type: "string", required: true, description: "ê³µê¸‰ì—…ì²´ ID" },
      { name: "supplier_name", type: "string", required: true, description: "ê³µê¸‰ì—…ì²´ëª…" },
      { name: "contact_person", type: "string", required: false, description: "ë‹´ë‹¹ì" },
      { name: "email", type: "string", required: false, description: "ì´ë©”ì¼" },
      { name: "phone", type: "string", required: false, description: "ì „í™”ë²ˆí˜¸" },
      { name: "lead_time_days", type: "number", required: false, description: "ë¦¬ë“œíƒ€ì„ (ì¼)" },
      { name: "reliability_score", type: "number", required: false, description: "ì‹ ë¢°ë„ ì ìˆ˜ (0-100)" },
    ],
  },

  // 12. IoT/ì„¼ì„œ (2ê°œ)
  {
    name: "Camera",
    label: "ì¹´ë©”ë¼",
    description: "CCTV ì¹´ë©”ë¼",
    icon: "Video",
    color: "#dc2626",
    priority: "high",
    model_3d_type: "device",
    model_3d_dimensions: { width: 0.15, height: 0.15, depth: 0.2 },
    properties: [
      { name: "camera_id", type: "string", required: true, description: "ì¹´ë©”ë¼ ID" },
      { name: "zone_id", type: "string", required: true, description: "ì„¤ì¹˜ êµ¬ì—­" },
      { name: "camera_type", type: "string", required: false, description: "ì¹´ë©”ë¼ ìœ í˜• (fixed/ptz/dome)" },
      { name: "resolution", type: "string", required: false, description: "í•´ìƒë„ (1080p/4K)" },
      { name: "has_night_vision", type: "boolean", required: false, description: "ì•¼ê°„ ì´¬ì˜" },
      { name: "ai_features", type: "array", required: false, description: "AI ê¸°ëŠ¥ (face_detection/people_counting)" },
    ],
  },
  {
    name: "Beacon",
    label: "ë¹„ì½˜",
    description: "Bluetooth ë¹„ì½˜",
    icon: "Bluetooth",
    color: "#2563eb",
    priority: "high",
    model_3d_type: "device",
    model_3d_dimensions: { width: 0.05, height: 0.05, depth: 0.02 },
    properties: [
      { name: "beacon_id", type: "string", required: true, description: "ë¹„ì½˜ ID" },
      { name: "zone_id", type: "string", required: true, description: "ì„¤ì¹˜ êµ¬ì—­" },
      { name: "uuid", type: "string", required: false, description: "UUID" },
      { name: "tx_power", type: "number", required: false, description: "ì†¡ì‹  ì¶œë ¥ (dBm)" },
      { name: "battery_level", type: "number", required: false, description: "ë°°í„°ë¦¬ ì”ëŸ‰ (%)" },
    ],
  },

  // 13. AI ëª¨ë¸ ì—”í‹°í‹° (7ê°œ)
  {
    name: "Model",
    label: "AI/ë¶„ì„ ëª¨ë¸",
    description: "LLM/ML/ìµœì í™” ë“± ë¶„ì„ ëª¨ë¸ ì •ì˜",
    icon: "Brain",
    color: "#6366f1",
    priority: "high",
    model_3d_type: null,
    properties: [
      { name: "model_id", type: "string", required: true, description: "ëª¨ë¸ ID" },
      { name: "model_name", type: "string", required: true, description: "ëª¨ë¸ ì´ë¦„" },
      { name: "model_type", type: "string", required: true, description: "ëª¨ë¸ ìœ í˜• (LLM/TimeSeries/Optimizer ë“±)" },
      { name: "provider", type: "string", required: false, description: "ëª¨ë¸ ì œê³µì (gemini-2.5-pro, internal ë“±)" },
      { name: "version", type: "string", required: false, description: "ëª¨ë¸ ë²„ì „" },
      {
        name: "objective",
        type: "string",
        required: false,
        description: "ìµœì í™” ëª©í‘œ (max_revenue/reduce_stockout ë“±)",
      },
      { name: "input_entities", type: "array", required: false, description: "ì…ë ¥ ì—”í‹°í‹° íƒ€ì… ëª©ë¡" },
      { name: "output_entities", type: "array", required: false, description: "ê²°ê³¼ ì—”í‹°í‹° íƒ€ì… ëª©ë¡" },
    ],
  },
  {
    name: "ModelRun",
    label: "ëª¨ë¸ ì‹¤í–‰",
    description: "íŠ¹ì • ì‹œì ì˜ ëª¨ë¸ ì‹¤í–‰ ê¸°ë¡",
    icon: "PlayCircle",
    color: "#4f46e5",
    priority: "high",
    model_3d_type: null,
    properties: [
      { name: "run_id", type: "string", required: true, description: "ì‹¤í–‰ ID" },
      { name: "model_id", type: "string", required: true, description: "Model.model_id" },
      { name: "run_time", type: "string", required: true, description: "ì‹¤í–‰ ì‹œê°" },
      { name: "input_time_window", type: "json", required: false, description: "ì‚¬ìš©í•œ ë°ì´í„° ê¸°ê°„ (from, to)" },
      { name: "input_filters", type: "json", required: false, description: "ë§¤ì¥/ìƒí’ˆ/ê³ ê° í•„í„° ì¡°ê±´" },
      { name: "status", type: "string", required: false, description: "ìƒíƒœ (completed/failed/running)" },
      { name: "metrics", type: "json", required: false, description: "ì •í™•ë„/MAPE/ìˆ˜ë ´ ì •ë³´ ë“±" },
    ],
  },

  // íŒŒìƒ ë©”íŠ¸ë¦­(ì§‘ê³„) ë ˆì´ì–´
  {
    name: "ZoneMetrics",
    label: "êµ¬ì—­ ë©”íŠ¸ë¦­",
    description: "êµ¬ì—­ë³„ ì§‘ê³„ ë©”íŠ¸ë¦­ (ì²´ë¥˜, íŠ¸ë˜í”½, ì „í™˜ìœ¨ ë“±)",
    icon: "Activity",
    color: "#0ea5e9",
    priority: "high",
    model_3d_type: null,
    properties: [
      { name: "id", type: "string", required: true, description: "ë©”íŠ¸ë¦­ ID" },
      { name: "zone_id", type: "string", required: true, description: "ëŒ€ìƒ êµ¬ì—­ ID" },
      { name: "date", type: "string", required: true, description: "ì§‘ê³„ ê¸°ì¤€ ë‚ ì§œ" },
      { name: "total_visits", type: "number", required: false, description: "ë°©ë¬¸ ìˆ˜" },
      { name: "avg_dwell_minutes", type: "number", required: false, description: "í‰ê·  ì²´ë¥˜ ì‹œê°„(ë¶„)" },
      { name: "conversion_rate", type: "number", required: false, description: "êµ¬ì—­ ì „í™˜ìœ¨" },
      { name: "traffic_score", type: "number", required: false, description: "íŠ¸ë˜í”½ ìŠ¤ì½”ì–´ (ì •ê·œí™”)" },
    ],
  },
  {
    name: "ProductMetrics",
    label: "ìƒí’ˆ ë©”íŠ¸ë¦­",
    description: "ìƒí’ˆë³„ íŒë§¤/ìˆ˜ìš”/íƒ„ë ¥ì„± ë©”íŠ¸ë¦­",
    icon: "BarChart3",
    color: "#f97316",
    priority: "high",
    model_3d_type: null,
    properties: [
      { name: "id", type: "string", required: true, description: "ë©”íŠ¸ë¦­ ID" },
      { name: "product_id", type: "string", required: true, description: "ëŒ€ìƒ ì œí’ˆ ID" },
      { name: "store_id", type: "string", required: false, description: "ëŒ€ìƒ ë§¤ì¥ ID" },
      { name: "date", type: "string", required: true, description: "ì§‘ê³„ ë‚ ì§œ" },
      { name: "units_sold", type: "number", required: false, description: "íŒë§¤ ìˆ˜ëŸ‰" },
      { name: "revenue", type: "number", required: false, description: "ë§¤ì¶œ" },
      { name: "price_elasticity", type: "number", required: false, description: "ê°€ê²© íƒ„ë ¥ì„± ì¶”ì •ì¹˜" },
      { name: "forecast_error", type: "number", required: false, description: "ì˜ˆì¸¡ ì˜¤ì°¨ (ì˜ˆ: MAPE)" },
    ],
  },
  {
    name: "StoreMetrics",
    label: "ë§¤ì¥ ë©”íŠ¸ë¦­",
    description: "ë§¤ì¥ ìš´ì˜/ì„±ê³¼ ì§‘ê³„ ì§€í‘œ",
    icon: "Gauge",
    color: "#22c55e",
    priority: "high",
    model_3d_type: null,
    properties: [
      { name: "id", type: "string", required: true, description: "ë©”íŠ¸ë¦­ ID" },
      { name: "store_id", type: "string", required: true, description: "ëŒ€ìƒ ë§¤ì¥ ID" },
      { name: "date", type: "string", required: true, description: "ì§‘ê³„ ë‚ ì§œ" },
      { name: "total_revenue", type: "number", required: false, description: "ì´ ë§¤ì¶œ" },
      { name: "total_visits", type: "number", required: false, description: "ì´ ë°©ë¬¸ ìˆ˜" },
      { name: "conversion_rate", type: "number", required: false, description: "ë§¤ì¥ ì „í™˜ìœ¨" },
      { name: "store_health_score", type: "number", required: false, description: "ì¢…í•© ë§¤ì¥ ê±´ê°• ì§€ìˆ˜" },
    ],
  },

  // LLM/ì„ë² ë”© ë ˆì´ì–´
  {
    name: "EntityEmbedding",
    label: "ì—”í‹°í‹° ì„ë² ë”©",
    description: "ì—”í‹°í‹°ë³„ ë²¡í„° ì„ë² ë”© (LLM/AI í™œìš©)",
    icon: "Sparkles",
    color: "#a855f7",
    priority: "high",
    model_3d_type: null,
    properties: [
      { name: "embedding_id", type: "string", required: true, description: "ì„ë² ë”© ID" },
      { name: "entity_type", type: "string", required: true, description: "ì—”í‹°í‹° íƒ€ì…ëª… (Store/Product/Zone ë“±)" },
      { name: "entity_id", type: "string", required: true, description: "ì—”í‹°í‹° ID" },
      { name: "vector", type: "array", required: true, description: "ìˆ˜ì¹˜ ë²¡í„° ê°’ (ì˜ˆ: 768ì°¨ì›)" },
      { name: "model_version", type: "string", required: false, description: "ì„ë² ë”© ìƒì„± ëª¨ë¸ ë²„ì „" },
      { name: "created_at", type: "string", required: false, description: "ìƒì„± ì‹œê°„" },
    ],
  },
  {
    name: "AIInsight",
    label: "AI ì¸ì‚¬ì´íŠ¸",
    description: "LLM/AIê°€ ìƒì„±í•œ ì¸ì‚¬ì´íŠ¸/ì„¤ëª…/ìš”ì•½",
    icon: "MessageCircle",
    color: "#f97316",
    priority: "high",
    model_3d_type: null,
    properties: [
      { name: "insight_id", type: "string", required: true, description: "ì¸ì‚¬ì´íŠ¸ ID" },
      { name: "model_id", type: "string", required: false, description: "ì‚¬ìš©ëœ ëª¨ë¸ ID" },
      { name: "related_entities", type: "array", required: false, description: "ê´€ë ¨ ì—”í‹°í‹° ëª©ë¡ (ì—”í‹°í‹° íƒ€ì…/ID ìŒ)" },
      { name: "insight_text", type: "string", required: true, description: "ìì—°ì–´ ì¸ì‚¬ì´íŠ¸/ì„¤ëª…" },
      { name: "severity", type: "string", required: false, description: "ì‹¬ê°ë„ (info/warning/critical)" },
      { name: "created_at", type: "string", required: false, description: "ìƒì„± ì‹œê°„" },
    ],
  },

  // ==========================================
  // ğŸŸ  MEDIUM (ì¤‘ìš°ì„ ìˆœìœ„) - 13ê°œ
  // ==========================================

  // 13. ì‹œê³„ì—´ ì§‘ê³„ (3ê°œ)
  {
    name: "DailySales",
    label: "ì¼ê°„ ë§¤ì¶œ",
    description: "ì¼ê°„ ë§¤ì¶œ ì§‘ê³„",
    icon: "BarChart3",
    color: "#f59e0b",
    priority: "medium",
    model_3d_type: null,
    properties: [
      { name: "daily_sales_id", type: "string", required: true, description: "ì¼ê°„ ë§¤ì¶œ ID" },
      { name: "store_id", type: "string", required: true, description: "ë§¤ì¥ ID" },
      { name: "date", type: "string", required: true, description: "ë‚ ì§œ" },
      { name: "total_revenue", type: "number", required: false, description: "ì´ ë§¤ì¶œ" },
      { name: "total_transactions", type: "number", required: false, description: "ê±°ë˜ ê±´ìˆ˜" },
      { name: "total_customers", type: "number", required: false, description: "ê³ ê° ìˆ˜" },
      { name: "avg_basket_size", type: "number", required: false, description: "í‰ê·  êµ¬ë§¤ì•¡" },
      { name: "top_category", type: "string", required: false, description: "ìµœë‹¤ íŒë§¤ ì¹´í…Œê³ ë¦¬" },
    ],
  },
  {
    name: "InventoryHistory",
    label: "ì¬ê³  ì´ë ¥",
    description: "ì¬ê³  ë³€ë™ ì´ë ¥",
    icon: "History",
    color: "#78716c",
    priority: "medium",
    model_3d_type: null,
    properties: [
      { name: "history_id", type: "string", required: true, description: "ì´ë ¥ ID" },
      { name: "product_id", type: "string", required: true, description: "ì œí’ˆ ID" },
      { name: "store_id", type: "string", required: true, description: "ë§¤ì¥ ID" },
      { name: "recorded_at", type: "string", required: true, description: "ê¸°ë¡ ì‹œê°„" },
      { name: "stock_level", type: "number", required: false, description: "ì¬ê³  ìˆ˜ëŸ‰" },
      { name: "stock_change", type: "number", required: false, description: "ë³€í™”ëŸ‰ (+/-)" },
      {
        name: "change_reason",
        type: "string",
        required: false,
        description: "ë³€ë™ ì‚¬ìœ  (sale/restock/return/adjustment)",
      },
    ],
  },
  {
    name: "ZonePerformance",
    label: "êµ¬ì—­ ì„±ê³¼",
    description: "êµ¬ì—­ë³„ ì„±ê³¼ ì§€í‘œ",
    icon: "Target",
    color: "#10b981",
    priority: "medium",
    model_3d_type: null,
    properties: [
      { name: "performance_id", type: "string", required: true, description: "ì„±ê³¼ ID" },
      { name: "zone_id", type: "string", required: true, description: "êµ¬ì—­ ID" },
      { name: "date", type: "string", required: true, description: "ë‚ ì§œ" },
      { name: "total_visits", type: "number", required: false, description: "ë°©ë¬¸ ìˆ˜" },
      { name: "avg_dwell_time", type: "number", required: false, description: "í‰ê·  ì²´ë¥˜ ì‹œê°„" },
      { name: "conversion_rate", type: "number", required: false, description: "ì „í™˜ìœ¨" },
      { name: "revenue_generated", type: "number", required: false, description: "ë°œìƒ ë§¤ì¶œ" },
    ],
  },

  // 14. ìš´ì˜/ì§ì› (1ê°œ)
  {
    name: "Task",
    label: "ì‘ì—…",
    description: "ì§ì› ì‘ì—… íƒœìŠ¤í¬",
    icon: "CheckSquare",
    color: "#6366f1",
    priority: "medium",
    model_3d_type: null,
    properties: [
      { name: "task_id", type: "string", required: true, description: "ì‘ì—… ID" },
      { name: "staff_id", type: "string", required: true, description: "ì§ì› ID" },
      { name: "task_name", type: "string", required: true, description: "ì‘ì—…ëª…" },
      {
        name: "task_type",
        type: "string",
        required: false,
        description: "ì‘ì—… ìœ í˜• (restock/cleaning/display/customer_service)",
      },
      { name: "priority", type: "string", required: false, description: "ìš°ì„ ìˆœìœ„ (high/medium/low)" },
      { name: "status", type: "string", required: false, description: "ìƒíƒœ (pending/in_progress/completed)" },
      { name: "due_time", type: "string", required: false, description: "ë§ˆê° ì‹œê°„" },
    ],
  },

  // 15. IoT/ì„¼ì„œ (4ê°œ)
  {
    name: "PeopleCounter",
    label: "ì¸ì› ì¹´ìš´í„°",
    description: "ì¶œì… ì¸ì› ì¹´ìš´í„°",
    icon: "Users2",
    color: "#22c55e",
    priority: "medium",
    model_3d_type: "device",
    model_3d_dimensions: { width: 0.1, height: 0.1, depth: 0.05 },
    properties: [
      { name: "counter_id", type: "string", required: true, description: "ì¹´ìš´í„° ID" },
      { name: "entrance_id", type: "string", required: true, description: "ì¶œì…êµ¬ ID" },
      { name: "technology", type: "string", required: false, description: "ê¸°ìˆ  (thermal/stereo/3D)" },
      { name: "accuracy_rate", type: "number", required: false, description: "ì •í™•ë„" },
      { name: "bidirectional", type: "boolean", required: false, description: "ì–‘ë°©í–¥ ê°ì§€" },
    ],
  },
  {
    name: "DoorSensor",
    label: "ë„ì–´ ì„¼ì„œ",
    description: "ì¶œì…ë¬¸ ì„¼ì„œ",
    icon: "DoorClosed",
    color: "#f97316",
    priority: "medium",
    model_3d_type: "device",
    model_3d_dimensions: { width: 0.05, height: 0.1, depth: 0.02 },
    properties: [
      { name: "sensor_id", type: "string", required: true, description: "ì„¼ì„œ ID" },
      { name: "entrance_id", type: "string", required: true, description: "ì¶œì…êµ¬ ID" },
      { name: "sensor_type", type: "string", required: false, description: "ì„¼ì„œ ìœ í˜• (magnetic/infrared)" },
      { name: "battery_level", type: "number", required: false, description: "ë°°í„°ë¦¬ ì”ëŸ‰ (%)" },
    ],
  },
  {
    name: "TemperatureSensor",
    label: "ì˜¨ë„ ì„¼ì„œ",
    description: "ì˜¨ë„ ì¸¡ì • ì„¼ì„œ",
    icon: "Thermometer",
    color: "#ef4444",
    priority: "medium",
    model_3d_type: "device",
    model_3d_dimensions: { width: 0.05, height: 0.1, depth: 0.03 },
    properties: [
      { name: "sensor_id", type: "string", required: true, description: "ì„¼ì„œ ID" },
      { name: "zone_id", type: "string", required: true, description: "ì„¤ì¹˜ êµ¬ì—­" },
      { name: "current_temp_c", type: "number", required: false, description: "í˜„ì¬ ì˜¨ë„ (ì„­ì”¨)" },
      { name: "min_range_c", type: "number", required: false, description: "ìµœì†Œ ë²”ìœ„" },
      { name: "max_range_c", type: "number", required: false, description: "ìµœëŒ€ ë²”ìœ„" },
    ],
  },
  {
    name: "HumiditySensor",
    label: "ìŠµë„ ì„¼ì„œ",
    description: "ìŠµë„ ì¸¡ì • ì„¼ì„œ",
    icon: "Droplets",
    color: "#06b6d4",
    priority: "medium",
    model_3d_type: "device",
    model_3d_dimensions: { width: 0.05, height: 0.1, depth: 0.03 },
    properties: [
      { name: "sensor_id", type: "string", required: true, description: "ì„¼ì„œ ID" },
      { name: "zone_id", type: "string", required: true, description: "ì„¤ì¹˜ êµ¬ì—­" },
      { name: "current_humidity", type: "number", required: false, description: "í˜„ì¬ ìŠµë„ (%)" },
      { name: "accuracy", type: "number", required: false, description: "ì •í™•ë„ (%)" },
    ],
  },

  // 16. ì‹œìŠ¤í…œ (1ê°œ)
  {
    name: "Alert",
    label: "ì•Œë¦¼",
    description: "ì‹œìŠ¤í…œ ì•Œë¦¼",
    icon: "AlertTriangle",
    color: "#f59e0b",
    priority: "medium",
    model_3d_type: null,
    properties: [
      { name: "alert_id", type: "string", required: true, description: "ì•Œë¦¼ ID" },
      {
        name: "alert_type",
        type: "string",
        required: false,
        description: "ì•Œë¦¼ ìœ í˜• (inventory_low/sensor_offline/unusual_traffic/security)",
      },
      { name: "severity", type: "string", required: false, description: "ì‹¬ê°ë„ (critical/high/medium/low)" },
      { name: "message", type: "string", required: true, description: "ë©”ì‹œì§€" },
      { name: "triggered_at", type: "string", required: true, description: "ë°œìƒ ì‹œê°„" },
      { name: "resolved", type: "boolean", required: false, description: "í•´ê²° ì—¬ë¶€" },
      { name: "target_entity_type", type: "string", required: false, description: "ëŒ€ìƒ ì—”í‹°í‹° ìœ í˜•" },
      { name: "target_entity_id", type: "string", required: false, description: "ëŒ€ìƒ ì—”í‹°í‹° ID" },
    ],
  },

  // 17. BusinessRlue (4ê°œ)
  {
    name: "KPI",
    label: "KPI ì •ì˜",
    description: "ë¹„ì¦ˆë‹ˆìŠ¤ KPI ì •ì˜ (ë§¤ì¶œ, ì „í™˜ìœ¨, ì¬ê³ íšŒì „ìœ¨ ë“±)",
    icon: "Target",
    color: "#ef4444",
    priority: "medium",
    model_3d_type: null,
    properties: [
      { name: "kpi_id", type: "string", required: true, description: "KPI ID" },
      { name: "kpi_name", type: "string", required: true, description: "KPI ì´ë¦„" },
      { name: "description", type: "string", required: false, description: "KPI ì„¤ëª…" },
      { name: "unit", type: "string", required: false, description: "ë‹¨ìœ„ (ì›, %, íšŒì „/ë…„ ë“±)" },
      { name: "direction", type: "string", required: false, description: "higher_is_better / lower_is_better" },
      { name: "aggregation_level", type: "string", required: false, description: "store/day/product/zone ë“±" },
    ],
  },
  {
    name: "KPIValue",
    label: "KPI ê°’",
    description: "íŠ¹ì • ì‹œì /ëŒ€ìƒì˜ KPI ì¸¡ì • ê°’",
    icon: "Activity",
    color: "#f97316",
    priority: "medium",
    model_3d_type: null,
    properties: [
      { name: "kpi_value_id", type: "string", required: true, description: "KPI ê°’ ID" },
      { name: "kpi_id", type: "string", required: true, description: "KPI.kpi_id" },
      { name: "store_id", type: "string", required: false, description: "ëŒ€ìƒ ë§¤ì¥ ID" },
      { name: "product_id", type: "string", required: false, description: "ëŒ€ìƒ ì œí’ˆ ID" },
      { name: "scenario_id", type: "string", required: false, description: "Scenario ID (ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ì¼ ê²½ìš°)" },
      { name: "date", type: "string", required: false, description: "ì¸¡ì • ë‚ ì§œ/ì‹œê°„" },
      { name: "value", type: "number", required: true, description: "KPI ê°’" },
    ],
  },

  {
    name: "RetailConcept",
    label: "ë¦¬í…Œì¼ ì»¨ì…‰",
    description: "ë¹„ì¦ˆë‹ˆìŠ¤ ê°œë…/íŒ¨í„´ (HighDemandProduct, ColdArea ë“±)",
    icon: "Shapes",
    color: "#0ea5e9",
    priority: "medium",
    model_3d_type: null,
    properties: [
      { name: "concept_id", type: "string", required: true, description: "ì»¨ì…‰ ID" },
      { name: "concept_name", type: "string", required: true, description: "ì»¨ì…‰ ì´ë¦„" },
      { name: "description", type: "string", required: false, description: "ì„¤ëª…" },
      { name: "applicable_entity_types", type: "array", required: false, description: "ì ìš© ê°€ëŠ¥í•œ ì—”í‹°í‹° íƒ€ì… ëª©ë¡" },
    ],
  },
  {
    name: "BusinessRule",
    label: "ë¹„ì¦ˆë‹ˆìŠ¤ ë£°",
    description: "ìš´ì˜/ìµœì í™”/ì•Œë¦¼ì„ ìœ„í•œ ê·œì¹™ ì •ì˜",
    icon: "ScrollText",
    color: "#22c55e",
    priority: "medium",
    model_3d_type: null,
    properties: [
      { name: "rule_id", type: "string", required: true, description: "ë£° ID" },
      { name: "rule_name", type: "string", required: true, description: "ë£° ì´ë¦„" },
      { name: "description", type: "string", required: false, description: "ë£° ì„¤ëª…" },
      { name: "rule_expression", type: "string", required: true, description: "ì¡°ê±´/ì•¡ì…˜ í‘œí˜„ (ì˜ˆ: DSL/JSON)" },
      { name: "target_entities", type: "array", required: false, description: "ì ìš© ëŒ€ìƒ ì—”í‹°í‹°(íƒ€ì…/ID)" },
    ],
  },

  // ==========================================
  // ğŸŸ¢ LOW (ì €ìš°ì„ ìˆœìœ„) - 5ê°œ
  // ==========================================

  // 16. AI/ë¶„ì„ (2ê°œ)
  {
    name: "DemandForecast",
    label: "ìˆ˜ìš” ì˜ˆì¸¡",
    description: "AI ìˆ˜ìš” ì˜ˆì¸¡",
    icon: "TrendingUp",
    color: "#10b981",
    priority: "low",
    model_3d_type: null,
    properties: [
      { name: "forecast_id", type: "string", required: true, description: "ì˜ˆì¸¡ ID" },
      { name: "product_id", type: "string", required: true, description: "ì œí’ˆ ID" },
      { name: "forecast_date", type: "string", required: true, description: "ì˜ˆì¸¡ì¼" },
      { name: "forecast_period", type: "string", required: false, description: "ì˜ˆì¸¡ ê¸°ê°„ (daily/weekly/monthly)" },
      { name: "predicted_demand", type: "number", required: false, description: "ì˜ˆì¸¡ ìˆ˜ìš”ëŸ‰" },
      { name: "confidence_level", type: "number", required: false, description: "ì‹ ë¢°ë„ (0-1)" },
      { name: "model_version", type: "string", required: false, description: "ëª¨ë¸ ë²„ì „" },
    ],
  },
  {
    name: "PriceOptimization",
    label: "ê°€ê²© ìµœì í™”",
    description: "AI ê°€ê²© ìµœì í™”",
    icon: "DollarSign",
    color: "#84cc16",
    priority: "low",
    model_3d_type: null,
    properties: [
      { name: "optimization_id", type: "string", required: true, description: "ìµœì í™” ID" },
      { name: "product_id", type: "string", required: true, description: "ì œí’ˆ ID" },
      { name: "optimized_price", type: "number", required: true, description: "ìµœì  ê°€ê²©" },
      { name: "original_price", type: "number", required: false, description: "ì›ë˜ ê°€ê²©" },
      { name: "expected_revenue_impact", type: "number", required: false, description: "ì˜ˆìƒ ë§¤ì¶œ ì˜í–¥" },
      { name: "optimization_reason", type: "string", required: false, description: "ìµœì í™” ì‚¬ìœ " },
    ],
  },

  // 17. ì‹œìŠ¤í…œ (3ê°œ)
  {
    name: "POS",
    label: "POS ë‹¨ë§ê¸°",
    description: "íŒë§¤ ì‹œì  ê´€ë¦¬ ë‹¨ë§ê¸°",
    icon: "ShoppingCart",
    color: "#059669",
    priority: "low",
    model_3d_type: "device",
    model_3d_dimensions: { width: 0.3, height: 0.4, depth: 0.3 },
    properties: [
      { name: "pos_id", type: "string", required: true, description: "POS ID" },
      { name: "counter_id", type: "string", required: true, description: "ê³„ì‚°ëŒ€ ID" },
      { name: "pos_type", type: "string", required: false, description: "POS ìœ í˜• (fixed/mobile/kiosk)" },
      { name: "has_touchscreen", type: "boolean", required: false, description: "í„°ì¹˜ìŠ¤í¬ë¦° ì—¬ë¶€" },
      { name: "os_version", type: "string", required: false, description: "OS ë²„ì „" },
    ],
  },
  {
    name: "DigitalSignage",
    label: "ë””ì§€í„¸ ì‚¬ì´ë‹ˆì§€",
    description: "ë””ì§€í„¸ ê´‘ê³  ë””ìŠ¤í”Œë ˆì´",
    icon: "Monitor",
    color: "#f97316",
    priority: "low",
    model_3d_type: "device",
    model_3d_dimensions: { width: 1.2, height: 0.7, depth: 0.1 },
    properties: [
      { name: "signage_id", type: "string", required: true, description: "ì‚¬ì´ë‹ˆì§€ ID" },
      { name: "zone_id", type: "string", required: true, description: "ì„¤ì¹˜ êµ¬ì—­" },
      { name: "screen_size_inches", type: "number", required: false, description: "í™”ë©´ í¬ê¸° (ì¸ì¹˜)" },
      { name: "content_type", type: "string", required: false, description: "ì½˜í…ì¸  ìœ í˜• (ad/info/wayfinding)" },
      { name: "current_content", type: "string", required: false, description: "í˜„ì¬ ì½˜í…ì¸ " },
    ],
  },
  {
    name: "HVAC",
    label: "HVAC ì‹œìŠ¤í…œ",
    description: "ëƒ‰ë‚œë°© ì‹œìŠ¤í…œ",
    icon: "Wind",
    color: "#38bdf8",
    priority: "low",
    model_3d_type: "device",
    model_3d_dimensions: { width: 1, height: 0.5, depth: 0.5 },
    properties: [
      { name: "hvac_id", type: "string", required: true, description: "HVAC ID" },
      { name: "zone_id", type: "string", required: true, description: "ì„¤ì¹˜ êµ¬ì—­" },
      { name: "system_type", type: "string", required: false, description: "ì‹œìŠ¤í…œ ìœ í˜• (central/split/vrf)" },
      { name: "current_mode", type: "string", required: false, description: "í˜„ì¬ ëª¨ë“œ (cooling/heating/auto/off)" },
      { name: "target_temp_c", type: "number", required: false, description: "ëª©í‘œ ì˜¨ë„ (ì„­ì”¨)" },
    ],
  },
];

export const COMPREHENSIVE_RELATION_TYPES = [
  // ==========================================
  // ğŸ”´ CRITICAL (í•„ìˆ˜) - 32ê°œ
  // ==========================================

  // ê³µê°„ ê´€ê³„
  {
    name: "CONTAINS",
    label: "í¬í•¨",
    description: "ê³µê°„ì´ ë‹¤ë¥¸ ê³µê°„/ê°ì²´ë¥¼ í¬í•¨",
    priority: "critical",
    source_entity_type: "Store",
    target_entity_type: "Zone",
    directionality: "directed",
    properties: [{ name: "spatial_relationship", type: "string", required: false, description: "ê³µê°„ ê´€ê³„" }],
  },
  {
    name: "CONNECTED_TO",
    label: "ì—°ê²°ë¨",
    description: "ê³µê°„ì´ ë‹¤ë¥¸ ê³µê°„ê³¼ ì—°ê²°",
    priority: "critical",
    source_entity_type: "Zone",
    target_entity_type: "Zone",
    directionality: "bidirectional",
    properties: [{ name: "connection_type", type: "string", required: false, description: "ì—°ê²° ìœ í˜•" }],
  },
  {
    name: "HAS_ENTRANCE",
    label: "ì¶œì…êµ¬ ë³´ìœ ",
    description: "ë§¤ì¥/êµ¬ì—­ì´ ì¶œì…êµ¬ ë³´ìœ ",
    priority: "critical",
    source_entity_type: "Store",
    target_entity_type: "Entrance",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_CHECKOUT",
    label: "ê³„ì‚°ëŒ€ ë³´ìœ ",
    description: "êµ¬ì—­ì´ ê³„ì‚°ëŒ€ ë³´ìœ ",
    priority: "critical",
    source_entity_type: "Zone",
    target_entity_type: "CheckoutCounter",
    directionality: "directed",
    properties: [],
  },

  // ìƒí’ˆ ê´€ê³„
  {
    name: "BELONGS_TO_CATEGORY",
    label: "ì¹´í…Œê³ ë¦¬ ì†Œì†",
    description: "ì œí’ˆì´ ì¹´í…Œê³ ë¦¬ì— ì†Œì†",
    priority: "critical",
    source_entity_type: "Product",
    target_entity_type: "Category",
    directionality: "directed",
    properties: [],
  },
  {
    name: "SOLD_BY",
    label: "íŒë§¤ì",
    description: "ì œí’ˆì´ ë¸Œëœë“œì— ì˜í•´ íŒë§¤ë¨",
    priority: "critical",
    source_entity_type: "Product",
    target_entity_type: "Brand",
    directionality: "directed",
    properties: [],
  },
  {
    name: "IN_STOCK",
    label: "ì¬ê³  ë³´ìœ ",
    description: "ë§¤ì¥ì´ ì œí’ˆ ì¬ê³  ë³´ìœ ",
    priority: "critical",
    source_entity_type: "Store",
    target_entity_type: "Inventory",
    directionality: "directed",
    properties: [{ name: "stock_level", type: "number", required: false, description: "ì¬ê³  ìˆ˜ì¤€" }],
  },
  {
    name: "SUPPLIED_BY",
    label: "ê³µê¸‰ë°›ìŒ",
    description: "ì œí’ˆì´ ê³µê¸‰ì—…ì²´ë¡œë¶€í„° ê³µê¸‰",
    priority: "critical",
    source_entity_type: "Product",
    target_entity_type: "Supplier",
    directionality: "directed",
    properties: [{ name: "lead_time_days", type: "number", required: false, description: "ë¦¬ë“œíƒ€ì„" }],
  },
  {
    name: "HAS_PROMOTION",
    label: "í”„ë¡œëª¨ì…˜ ì ìš©",
    description: "ì œí’ˆì— í”„ë¡œëª¨ì…˜ ì ìš©",
    priority: "critical",
    source_entity_type: "Product",
    target_entity_type: "Promotion",
    directionality: "directed",
    properties: [{ name: "discount_rate", type: "number", required: false, description: "í• ì¸ìœ¨" }],
  },

  // ê³ ê°/ê±°ë˜ ê´€ê³„
  {
    name: "VISITED",
    label: "ë°©ë¬¸í•¨",
    description: "ê³ ê°ì´ ë§¤ì¥ ë°©ë¬¸",
    priority: "critical",
    source_entity_type: "Customer",
    target_entity_type: "Visit",
    directionality: "directed",
    properties: [{ name: "visit_date", type: "string", required: false, description: "ë°©ë¬¸ì¼" }],
  },
  {
    name: "PURCHASED",
    label: "êµ¬ë§¤í•¨",
    description: "ê³ ê°ì´ ì œí’ˆ êµ¬ë§¤",
    priority: "critical",
    source_entity_type: "Customer",
    target_entity_type: "Purchase",
    directionality: "directed",
    properties: [{ name: "purchase_amount", type: "number", required: false, description: "êµ¬ë§¤ì•¡" }],
  },
  {
    name: "ENTERED_ZONE",
    label: "êµ¬ì—­ ì§„ì…",
    description: "ë°©ë¬¸ì´ íŠ¹ì • êµ¬ì—­ ì§„ì…",
    priority: "critical",
    source_entity_type: "Visit",
    target_entity_type: "Zone",
    directionality: "directed",
    properties: [{ name: "entry_time", type: "string", required: false, description: "ì§„ì… ì‹œê°„" }],
  },
  {
    name: "SPENT_TIME_IN",
    label: "ì²´ë¥˜í•¨",
    description: "ê³ ê°ì´ êµ¬ì—­ì— ì²´ë¥˜",
    priority: "critical",
    source_entity_type: "Customer",
    target_entity_type: "Zone",
    directionality: "directed",
    properties: [{ name: "dwell_time_minutes", type: "number", required: false, description: "ì²´ë¥˜ ì‹œê°„" }],
  },
  {
    name: "CHECKED_OUT_AT",
    label: "ê²°ì œí•¨",
    description: "ê±°ë˜ê°€ ê³„ì‚°ëŒ€ì—ì„œ ë°œìƒ",
    priority: "critical",
    source_entity_type: "Transaction",
    target_entity_type: "CheckoutCounter",
    directionality: "directed",
    properties: [{ name: "checkout_time", type: "string", required: false, description: "ê²°ì œ ì‹œê°„" }],
  },

  // ìš´ì˜ ê´€ê³„
  {
    name: "WORKS_AT",
    label: "ê·¼ë¬´í•¨",
    description: "ì§ì›ì´ ë§¤ì¥ì—ì„œ ê·¼ë¬´",
    priority: "critical",
    source_entity_type: "Staff",
    target_entity_type: "Store",
    directionality: "directed",
    properties: [],
  },
  {
    name: "ASSIGNED_TO_SHIFT",
    label: "ê·¼ë¬´ ë°°ì •",
    description: "ì§ì›ì´ ê·¼ë¬´ ì‹œê°„ì— ë°°ì •",
    priority: "critical",
    source_entity_type: "Staff",
    target_entity_type: "Shift",
    directionality: "directed",
    properties: [],
  },

  // IoT ê´€ê³„
  {
    name: "MONITORED_BY",
    label: "ëª¨ë‹ˆí„°ë§ë¨",
    description: "êµ¬ì—­ì´ ì„¼ì„œë¡œ ëª¨ë‹ˆí„°ë§ë¨",
    priority: "critical",
    source_entity_type: "Zone",
    target_entity_type: "WiFiSensor",
    directionality: "directed",
    properties: [],
  },
  {
    name: "DETECTED_BY",
    label: "ê°ì§€ë¨",
    description: "ê³ ê°ì´ ì„¼ì„œì— ê°ì§€ë¨",
    priority: "critical",
    source_entity_type: "Customer",
    target_entity_type: "WiFiSensor",
    directionality: "directed",
    properties: [{ name: "detection_time", type: "string", required: false, description: "ê°ì§€ ì‹œê°„" }],
  },

  // ë¶„ì„ ê´€ê³„
  {
    name: "GENERATED_SALES",
    label: "ë§¤ì¶œ ë°œìƒ",
    description: "ë§¤ì¥ì´ ì¼ê°„ ë§¤ì¶œ ë°œìƒ",
    priority: "critical",
    source_entity_type: "Store",
    target_entity_type: "DailySales",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_TRANSACTION",
    label: "ê±°ë˜ ë°œìƒ",
    description: "ë°©ë¬¸ì´ ê±°ë˜ë¡œ ì „í™˜",
    priority: "critical",
    source_entity_type: "Visit",
    target_entity_type: "Transaction",
    directionality: "directed",
    properties: [],
  },

  // ì¡°ì§ ê´€ê³„
  {
    name: "OPERATES",
    label: "ìš´ì˜í•¨",
    description: "ì¡°ì§ì´ ë§¤ì¥ì„ ìš´ì˜",
    priority: "critical",
    source_entity_type: "Organization",
    target_entity_type: "Store",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_INVENTORY",
    label: "ì¬ê³  ë³´ìœ ",
    description: "ì œí’ˆì´ ì¬ê³  ë³´ìœ ",
    priority: "critical",
    source_entity_type: "Product",
    target_entity_type: "Inventory",
    directionality: "directed",
    properties: [],
  },
  {
    name: "PART_OF_TRANSACTION",
    label: "ê±°ë˜ êµ¬ì„±",
    description: "êµ¬ë§¤ê°€ ê±°ë˜ì˜ ì¼ë¶€",
    priority: "critical",
    source_entity_type: "Purchase",
    target_entity_type: "Transaction",
    directionality: "directed",
    properties: [],
  },
  {
    name: "PURCHASED_PRODUCT",
    label: "ì œí’ˆ êµ¬ë§¤",
    description: "êµ¬ë§¤ê°€ íŠ¹ì • ì œí’ˆ",
    priority: "critical",
    source_entity_type: "Purchase",
    target_entity_type: "Product",
    directionality: "directed",
    properties: [{ name: "quantity", type: "number", required: false, description: "ìˆ˜ëŸ‰" }],
  },
  {
    name: "HAS_CATEGORY",
    label: "ì¹´í…Œê³ ë¦¬ ë³´ìœ ",
    description: "ì¡°ì§ì´ ì¹´í…Œê³ ë¦¬ ë³´ìœ ",
    priority: "critical",
    source_entity_type: "Organization",
    target_entity_type: "Category",
    directionality: "directed",
    properties: [],
  },

  // DataSource ë ˆì´ì–´
  {
    name: "HAS_TABLE",
    label: "í…Œì´ë¸” ë³´ìœ ",
    description: "ë°ì´í„° ì†ŒìŠ¤ê°€ í…Œì´ë¸”/íŒŒì¼ì„ ë³´ìœ ",
    priority: "critical",
    source_entity_type: "DataSource",
    target_entity_type: "DataSourceTable",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_COLUMN_MAPPING",
    label: "ì»¬ëŸ¼ ë§¤í•‘ ë³´ìœ ",
    description: "í…Œì´ë¸”ì´ ì»¬ëŸ¼ ë§¤í•‘ ì •ì˜ë¥¼ ë³´ìœ ",
    priority: "critical",
    source_entity_type: "DataSourceTable",
    target_entity_type: "ColumnMapping",
    directionality: "directed",
    properties: [],
  },

  // ëª¨ë¸ ì‹¤í–‰ / ì‹œë®¬ë ˆì´ì…˜ / ì˜ˆì¸¡ ì—°ê²°
  {
    name: "HAS_RUN",
    label: "ì‹¤í–‰ ë³´ìœ ",
    description: "ëª¨ë¸ì´ ì—¬ëŸ¬ ì‹¤í–‰(ModelRun)ì„ ê°€ì§",
    priority: "critical",
    source_entity_type: "Model",
    target_entity_type: "ModelRun",
    directionality: "directed",
    properties: [],
  },
  {
    name: "EVALUATES_SCENARIO",
    label: "ì‹œë‚˜ë¦¬ì˜¤ í‰ê°€",
    description: "ëª¨ë¸ ì‹¤í–‰ì´ íŠ¹ì • ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í‰ê°€",
    priority: "critical",
    source_entity_type: "ModelRun",
    target_entity_type: "Scenario",
    directionality: "directed",
    properties: [],
  },
  {
    name: "GENERATED_FORECAST",
    label: "ì˜ˆì¸¡ ìƒì„±",
    description: "ëª¨ë¸ ì‹¤í–‰ì´ ìˆ˜ìš” ì˜ˆì¸¡(DemandForecast)ì„ ìƒì„±",
    priority: "critical",
    source_entity_type: "ModelRun",
    target_entity_type: "DemandForecast",
    directionality: "directed",
    properties: [],
  },
  {
    name: "GENERATED_OPTIMIZATION",
    label: "ìµœì í™” ìƒì„±",
    description: "ëª¨ë¸ ì‹¤í–‰ì´ ê°€ê²© ìµœì í™”(PriceOptimization) ê²°ê³¼ë¥¼ ìƒì„±",
    priority: "critical",
    source_entity_type: "ModelRun",
    target_entity_type: "PriceOptimization",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_SIMULATION_RESULT",
    label: "ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ ë³´ìœ ",
    description: "ì‹œë‚˜ë¦¬ì˜¤ê°€ ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ë¥¼ ë³´ìœ ",
    priority: "critical",
    source_entity_type: "Scenario",
    target_entity_type: "SimulationResult",
    directionality: "directed",
    properties: [],
  },

  // ==========================================
  // ğŸŸ¡ HIGH (ê³ ìš°ì„ ìˆœìœ„) - 27ê°œ
  // ==========================================

  // ê³µê°„ ê´€ê³„
  {
    name: "HAS_ZONE",
    label: "êµ¬ì—­ ë³´ìœ ",
    description: "ë§¤ì¥ì´ êµ¬ì—­ ë³´ìœ ",
    priority: "high",
    source_entity_type: "Store",
    target_entity_type: "Zone",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_AISLE",
    label: "í†µë¡œ ë³´ìœ ",
    description: "êµ¬ì—­ì´ í†µë¡œ ë³´ìœ ",
    priority: "high",
    source_entity_type: "Zone",
    target_entity_type: "Aisle",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_FITTING_ROOM",
    label: "íƒˆì˜ì‹¤ ë³´ìœ ",
    description: "êµ¬ì—­ì´ íƒˆì˜ì‹¤ ë³´ìœ ",
    priority: "high",
    source_entity_type: "Zone",
    target_entity_type: "FittingRoom",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_STORAGE_ROOM",
    label: "ì°½ê³  ë³´ìœ ",
    description: "ë§¤ì¥ì´ ì°½ê³  ë³´ìœ ",
    priority: "high",
    source_entity_type: "Store",
    target_entity_type: "StorageRoom",
    directionality: "directed",
    properties: [],
  },

  // ìƒí’ˆ ê´€ê³„
  {
    name: "DISPLAYED_ON",
    label: "ì§„ì—´ë¨",
    description: "ì œí’ˆì´ ì§„ì—´ëŒ€ì— ì§„ì—´",
    priority: "high",
    source_entity_type: "Product",
    target_entity_type: "Shelf",
    directionality: "directed",
    properties: [{ name: "display_date", type: "string", required: false, description: "ì§„ì—´ì¼" }],
  },
  {
    name: "STORED_IN",
    label: "ë³´ê´€ë¨",
    description: "ì¬ê³ ê°€ ì°½ê³ ì— ë³´ê´€",
    priority: "high",
    source_entity_type: "Inventory",
    target_entity_type: "StorageRoom",
    directionality: "directed",
    properties: [],
  },
  {
    name: "PROMOTED_IN",
    label: "í”„ë¡œëª¨ì…˜ ì§„í–‰",
    description: "í”„ë¡œëª¨ì…˜ì´ êµ¬ì—­ì—ì„œ ì§„í–‰",
    priority: "high",
    source_entity_type: "Promotion",
    target_entity_type: "Zone",
    directionality: "directed",
    properties: [],
  },
  {
    name: "REPLENISHED",
    label: "ì¬ì…ê³ ë¨",
    description: "ì œí’ˆì´ ì¬ì…ê³ ë¨",
    priority: "high",
    source_entity_type: "Product",
    target_entity_type: "InventoryHistory",
    directionality: "directed",
    properties: [{ name: "replenish_date", type: "string", required: false, description: "ì¬ì…ê³ ì¼" }],
  },

  // ê³ ê° ê´€ê³„
  {
    name: "TRIED_ON",
    label: "ì°©ìš©í•´ë´„",
    description: "ê³ ê°ì´ íƒˆì˜ì‹¤ì—ì„œ ì°©ìš©",
    priority: "high",
    source_entity_type: "Customer",
    target_entity_type: "FittingRoom",
    directionality: "directed",
    properties: [],
  },
  {
    name: "RETURNED_PRODUCT",
    label: "ë°˜í’ˆí•¨",
    description: "ê³ ê°ì´ ì œí’ˆ ë°˜í’ˆ",
    priority: "high",
    source_entity_type: "Customer",
    target_entity_type: "Product",
    directionality: "directed",
    properties: [{ name: "return_date", type: "string", required: false, description: "ë°˜í’ˆì¼" }],
  },
  {
    name: "BELONGS_TO_SEGMENT",
    label: "ì„¸ê·¸ë¨¼íŠ¸ ì†Œì†",
    description: "ê³ ê°ì´ íŠ¹ì • ì„¸ê·¸ë¨¼íŠ¸ ì†Œì†",
    priority: "high",
    source_entity_type: "Customer",
    target_entity_type: "Customer",
    directionality: "directed",
    properties: [{ name: "segment_type", type: "string", required: false, description: "ì„¸ê·¸ë¨¼íŠ¸ ìœ í˜•" }],
  },

  // ì™¸ë¶€ ì»¨í…ìŠ¤íŠ¸ ê´€ê³„
  {
    name: "AFFECTED_BY_WEATHER",
    label: "ë‚ ì”¨ ì˜í–¥",
    description: "ë§¤ì¥ì´ ë‚ ì”¨ì˜ ì˜í–¥ ë°›ìŒ",
    priority: "high",
    source_entity_type: "Store",
    target_entity_type: "Weather",
    directionality: "directed",
    properties: [],
  },
  {
    name: "AFFECTED_BY_HOLIDAY",
    label: "ê³µíœ´ì¼ ì˜í–¥",
    description: "ë§¤ì¥ì´ ê³µíœ´ì¼ ì˜í–¥ ë°›ìŒ",
    priority: "high",
    source_entity_type: "Store",
    target_entity_type: "Holiday",
    directionality: "directed",
    properties: [],
  },
  {
    name: "INFLUENCED_BY_ECONOMIC",
    label: "ê²½ì œ ì˜í–¥",
    description: "ë§¤ì¥ì´ ê²½ì œ ì§€í‘œ ì˜í–¥ ë°›ìŒ",
    priority: "high",
    source_entity_type: "Store",
    target_entity_type: "EconomicIndicator",
    directionality: "directed",
    properties: [],
  },

  // ë¶„ì„ ê´€ê³„
  {
    name: "TRACKED_IN_DAILY_SALES",
    label: "ì¼ê°„ ë§¤ì¶œ ì¶”ì ",
    description: "ê±°ë˜ê°€ ì¼ê°„ ë§¤ì¶œì— ì§‘ê³„",
    priority: "high",
    source_entity_type: "Transaction",
    target_entity_type: "DailySales",
    directionality: "directed",
    properties: [],
  },
  {
    name: "RECORDED_IN_INVENTORY_HISTORY",
    label: "ì¬ê³  ì´ë ¥ ê¸°ë¡",
    description: "ì¬ê³  ë³€ë™ì´ ì´ë ¥ì— ê¸°ë¡",
    priority: "high",
    source_entity_type: "Inventory",
    target_entity_type: "InventoryHistory",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_ZONE_PERFORMANCE",
    label: "êµ¬ì—­ ì„±ê³¼ ë³´ìœ ",
    description: "êµ¬ì—­ì´ ì„±ê³¼ ê¸°ë¡ ë³´ìœ ",
    priority: "high",
    source_entity_type: "Zone",
    target_entity_type: "ZonePerformance",
    directionality: "directed",
    properties: [],
  },
  {
    name: "SUPPLIES",
    label: "ê³µê¸‰í•¨",
    description: "ê³µê¸‰ì—…ì²´ê°€ ì œí’ˆ ê³µê¸‰",
    priority: "high",
    source_entity_type: "Supplier",
    target_entity_type: "Product",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_CAMERA",
    label: "ì¹´ë©”ë¼ ë³´ìœ ",
    description: "êµ¬ì—­ì´ ì¹´ë©”ë¼ ë³´ìœ ",
    priority: "high",
    source_entity_type: "Zone",
    target_entity_type: "Camera",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_BEACON",
    label: "ë¹„ì½˜ ë³´ìœ ",
    description: "êµ¬ì—­ì´ ë¹„ì½˜ ë³´ìœ ",
    priority: "high",
    source_entity_type: "Zone",
    target_entity_type: "Beacon",
    directionality: "directed",
    properties: [],
  },

  // KPI & ëª¨ë¸/ì‹œë‚˜ë¦¬ì˜¤ ì—°ê²°
  {
    name: "OPTIMIZES_FOR",
    label: "ìµœì í™” ëŒ€ìƒ",
    description: "ëª¨ë¸ì´ ì–´ë–¤ KPIë¥¼ ìµœì í™”í•˜ëŠ”ì§€",
    priority: "high",
    source_entity_type: "Model",
    target_entity_type: "KPI",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_KPI_VALUE",
    label: "KPI ê°’ ë³´ìœ ",
    description: "ì‹œë‚˜ë¦¬ì˜¤ê°€ KPI ì¸¡ì •ê°’ì„ ë³´ìœ ",
    priority: "high",
    source_entity_type: "Scenario",
    target_entity_type: "KPIValue",
    directionality: "directed",
    properties: [],
  },

  // ì´ë²¤íŠ¸ â†’ ë©”íŠ¸ë¦­
  {
    name: "DERIVES_ZONE_METRICS",
    label: "êµ¬ì—­ ë©”íŠ¸ë¦­ ë„ì¶œ",
    description: "BaseEvent/Visit/CustomerEventê°€ ZoneMetricsì— ê¸°ì—¬",
    priority: "high",
    source_entity_type: "BaseEvent",
    target_entity_type: "ZoneMetrics",
    directionality: "directed",
    properties: [{ name: "weight", type: "number", required: false, description: "ê¸°ì—¬ ê°€ì¤‘ì¹˜" }],
  },
  {
    name: "DERIVES_PRODUCT_METRICS",
    label: "ìƒí’ˆ ë©”íŠ¸ë¦­ ë„ì¶œ",
    description: "ê±°ë˜/êµ¬ë§¤ ì´ë²¤íŠ¸ê°€ ProductMetricsì— ê¸°ì—¬",
    priority: "high",
    source_entity_type: "Transaction",
    target_entity_type: "ProductMetrics",
    directionality: "directed",
    properties: [],
  },
  {
    name: "DERIVES_STORE_METRICS",
    label: "ë§¤ì¥ ë©”íŠ¸ë¦­ ë„ì¶œ",
    description: "ë°©ë¬¸/ê±°ë˜/ì´ë²¤íŠ¸ê°€ StoreMetricsì— ê¸°ì—¬",
    priority: "high",
    source_entity_type: "BaseEvent",
    target_entity_type: "StoreMetrics",
    directionality: "directed",
    properties: [],
  },

  // ì„ë² ë”© / ì¸ì‚¬ì´íŠ¸ ì—°ê²°
  {
    name: "HAS_EMBEDDING",
    label: "ì„ë² ë”© ë³´ìœ ",
    description: "ì–´ë–¤ ì—”í‹°í‹°ê°€ AI ì„ë² ë”© ë²¡í„°ë¥¼ ê°€ì§",
    priority: "high",
    source_entity_type: "EntityEmbedding", // ë˜ëŠ” ë°˜ëŒ€ë¡œ í•  ìˆ˜ë„ ìˆìŒ
    target_entity_type: "Organization", // ì œë„¤ë¦­í•˜ê²Œ í‘œí˜„í•˜ê¸° ì–´ë ¤ì›Œì„œ, ì‹¤ì œ ì‚¬ìš© ì‹œì—ëŠ”
    directionality: "directed", // ì—”í‹°í‹° íƒ€ì…ë³„ë¡œ ë”°ë¡œ ê´€ë¦¬í•  ìˆ˜ë„ ìˆìŒ
    properties: [],
  },
  {
    name: "GENERATED_INSIGHT_FOR",
    label: "ì¸ì‚¬ì´íŠ¸ ëŒ€ìƒ",
    description: "AI ì¸ì‚¬ì´íŠ¸ê°€ ëŒ€ìƒ ì—”í‹°í‹°ì— ëŒ€í•´ ìƒì„±ë¨",
    priority: "high",
    source_entity_type: "AIInsight",
    target_entity_type: "Store",
    directionality: "directed",
    properties: [],
  },

  // ==========================================
  // ğŸŸ  MEDIUM (ì¤‘ìš°ì„ ìˆœìœ„) - 17ê°œ
  // ==========================================

  // ê³µê°„/ê°€êµ¬ ê´€ê³„
  {
    name: "HAS_SHELF",
    label: "ì„ ë°˜ ë³´ìœ ",
    description: "êµ¬ì—­ì´ ì„ ë°˜ ë³´ìœ ",
    priority: "medium",
    source_entity_type: "Zone",
    target_entity_type: "Shelf",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_RACK",
    label: "ë™ ë³´ìœ ",
    description: "êµ¬ì—­ì´ ë™ ë³´ìœ ",
    priority: "medium",
    source_entity_type: "Zone",
    target_entity_type: "Rack",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_DISPLAY_TABLE",
    label: "ë””ìŠ¤í”Œë ˆì´ í…Œì´ë¸” ë³´ìœ ",
    description: "êµ¬ì—­ì´ ë””ìŠ¤í”Œë ˆì´ í…Œì´ë¸” ë³´ìœ ",
    priority: "medium",
    source_entity_type: "Zone",
    target_entity_type: "DisplayTable",
    directionality: "directed",
    properties: [],
  },

  // IoT ê´€ê³„
  {
    name: "HAS_PEOPLE_COUNTER",
    label: "ì¸ì› ì¹´ìš´í„° ë³´ìœ ",
    description: "ì¶œì…êµ¬ê°€ ì¸ì› ì¹´ìš´í„° ë³´ìœ ",
    priority: "medium",
    source_entity_type: "Entrance",
    target_entity_type: "PeopleCounter",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_DOOR_SENSOR",
    label: "ë„ì–´ ì„¼ì„œ ë³´ìœ ",
    description: "ì¶œì…êµ¬ê°€ ë„ì–´ ì„¼ì„œ ë³´ìœ ",
    priority: "medium",
    source_entity_type: "Entrance",
    target_entity_type: "DoorSensor",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_TEMPERATURE_SENSOR",
    label: "ì˜¨ë„ ì„¼ì„œ ë³´ìœ ",
    description: "êµ¬ì—­ì´ ì˜¨ë„ ì„¼ì„œ ë³´ìœ ",
    priority: "medium",
    source_entity_type: "Zone",
    target_entity_type: "TemperatureSensor",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_HUMIDITY_SENSOR",
    label: "ìŠµë„ ì„¼ì„œ ë³´ìœ ",
    description: "êµ¬ì—­ì´ ìŠµë„ ì„¼ì„œ ë³´ìœ ",
    priority: "medium",
    source_entity_type: "Zone",
    target_entity_type: "HumiditySensor",
    directionality: "directed",
    properties: [],
  },

  // ìš´ì˜ ê´€ê³„
  {
    name: "ASSIGNED_TO_TASK",
    label: "ì‘ì—… ë°°ì •",
    description: "ì§ì›ì´ ì‘ì—…ì— ë°°ì •",
    priority: "medium",
    source_entity_type: "Staff",
    target_entity_type: "Task",
    directionality: "directed",
    properties: [],
  },
  {
    name: "TRIGGERED_ALERT",
    label: "ì•Œë¦¼ ë°œìƒ",
    description: "ì´ë²¤íŠ¸ê°€ ì•Œë¦¼ ë°œìƒ",
    priority: "medium",
    source_entity_type: "Inventory",
    target_entity_type: "Alert",
    directionality: "directed",
    properties: [],
  },

  // ë¶„ì„ ê´€ê³„
  {
    name: "MEASURED_IN_ZONE_PERFORMANCE",
    label: "êµ¬ì—­ ì„±ê³¼ ì¸¡ì •",
    description: "ë°©ë¬¸ì´ êµ¬ì—­ ì„±ê³¼ì— ì¸¡ì •",
    priority: "medium",
    source_entity_type: "Visit",
    target_entity_type: "ZonePerformance",
    directionality: "directed",
    properties: [],
  },
  {
    name: "FORECASTED_DEMAND",
    label: "ìˆ˜ìš” ì˜ˆì¸¡",
    description: "ì œí’ˆì´ ìˆ˜ìš” ì˜ˆì¸¡ë¨",
    priority: "medium",
    source_entity_type: "Product",
    target_entity_type: "DemandForecast",
    directionality: "directed",
    properties: [],
  },
  {
    name: "PLACED_ON_SHELF",
    label: "ì„ ë°˜ ë°°ì¹˜",
    description: "ì œí’ˆì´ ì„ ë°˜ì— ë°°ì¹˜",
    priority: "medium",
    source_entity_type: "Product",
    target_entity_type: "Shelf",
    directionality: "directed",
    properties: [],
  },
  {
    name: "PLACED_ON_RACK",
    label: "ë™ ë°°ì¹˜",
    description: "ì œí’ˆì´ ë™ì— ë°°ì¹˜",
    priority: "medium",
    source_entity_type: "Product",
    target_entity_type: "Rack",
    directionality: "directed",
    properties: [],
  },
  {
    name: "PLACED_ON_TABLE",
    label: "í…Œì´ë¸” ë°°ì¹˜",
    description: "ì œí’ˆì´ í…Œì´ë¸”ì— ë°°ì¹˜",
    priority: "medium",
    source_entity_type: "Product",
    target_entity_type: "DisplayTable",
    directionality: "directed",
    properties: [],
  },
  {
    name: "MANAGES_INVENTORY",
    label: "ì¬ê³  ê´€ë¦¬",
    description: "ì§ì›ì´ ì¬ê³  ê´€ë¦¬",
    priority: "medium",
    source_entity_type: "Staff",
    target_entity_type: "Inventory",
    directionality: "directed",
    properties: [],
  },

  {
    name: "USES_CONCEPT",
    label: "ì»¨ì…‰ ì‚¬ìš©",
    description: "ë¹„ì¦ˆë‹ˆìŠ¤ ë£°ì´ íŠ¹ì • ë¦¬í…Œì¼ ì»¨ì…‰ì— ê¸°ë°˜í•¨",
    priority: "medium",
    source_entity_type: "BusinessRule",
    target_entity_type: "RetailConcept",
    directionality: "directed",
    properties: [],
  },
  {
    name: "APPLIES_TO_ENTITY_TYPE",
    label: "ì—”í‹°í‹° íƒ€ì…ì— ì ìš©",
    description: "ë¦¬í…Œì¼ ì»¨ì…‰ì´ íŠ¹ì • ì—”í‹°í‹° íƒ€ì…ì— ì ìš©",
    priority: "medium",
    source_entity_type: "RetailConcept",
    target_entity_type: "Category",
    directionality: "directed",
    properties: [],
  },

  // ==========================================
  // ğŸŸ¢ LOW (ì €ìš°ì„ ìˆœìœ„) - 10ê°œ
  // ==========================================

  // ì‹œë®¬ë ˆì´ì…˜ ê´€ê³„
  {
    name: "OPTIMIZED_PRICE_FOR",
    label: "ê°€ê²© ìµœì í™”",
    description: "ì œí’ˆì´ ê°€ê²© ìµœì í™”ë¨",
    priority: "low",
    source_entity_type: "Product",
    target_entity_type: "PriceOptimization",
    directionality: "directed",
    properties: [],
  },

  // IoT ê´€ê³„
  {
    name: "HAS_POS",
    label: "POS ë³´ìœ ",
    description: "ê³„ì‚°ëŒ€ê°€ POS ë³´ìœ ",
    priority: "low",
    source_entity_type: "CheckoutCounter",
    target_entity_type: "POS",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HAS_DIGITAL_SIGNAGE",
    label: "ë””ì§€í„¸ ì‚¬ì´ë‹ˆì§€ ë³´ìœ ",
    description: "êµ¬ì—­ì´ ë””ì§€í„¸ ì‚¬ì´ë‹ˆì§€ ë³´ìœ ",
    priority: "low",
    source_entity_type: "Zone",
    target_entity_type: "DigitalSignage",
    directionality: "directed",
    properties: [],
  },
  {
    name: "CONTROLLED_BY_HVAC",
    label: "HVAC ì œì–´",
    description: "êµ¬ì—­ì´ HVACë¡œ ì œì–´ë¨",
    priority: "low",
    source_entity_type: "Zone",
    target_entity_type: "HVAC",
    directionality: "directed",
    properties: [],
  },

  // ë¶„ì„ ê´€ê³„
  {
    name: "GENERATES_FORECAST",
    label: "ì˜ˆì¸¡ ìƒì„±",
    description: "ì´ë ¥ì´ ì˜ˆì¸¡ ìƒì„±",
    priority: "low",
    source_entity_type: "InventoryHistory",
    target_entity_type: "DemandForecast",
    directionality: "directed",
    properties: [],
  },
  {
    name: "INFLUENCES_PRICING",
    label: "ê°€ê²© ì˜í–¥",
    description: "ìˆ˜ìš” ì˜ˆì¸¡ì´ ê°€ê²© ì˜í–¥",
    priority: "low",
    source_entity_type: "DemandForecast",
    target_entity_type: "PriceOptimization",
    directionality: "directed",
    properties: [],
  },
  {
    name: "CAPTURED_BY_CAMERA",
    label: "ì¹´ë©”ë¼ ì´¬ì˜",
    description: "ê³ ê°ì´ ì¹´ë©”ë¼ì— ì´¬ì˜ë¨",
    priority: "low",
    source_entity_type: "Customer",
    target_entity_type: "Camera",
    directionality: "directed",
    properties: [],
  },
  {
    name: "DETECTED_BY_BEACON",
    label: "ë¹„ì½˜ ê°ì§€",
    description: "ê³ ê°ì´ ë¹„ì½˜ì— ê°ì§€ë¨",
    priority: "low",
    source_entity_type: "Customer",
    target_entity_type: "Beacon",
    directionality: "directed",
    properties: [],
  },
  {
    name: "PROCESSES_TRANSACTION",
    label: "ê±°ë˜ ì²˜ë¦¬",
    description: "POSê°€ ê±°ë˜ ì²˜ë¦¬",
    priority: "low",
    source_entity_type: "POS",
    target_entity_type: "Transaction",
    directionality: "directed",
    properties: [],
  },
  {
    name: "DISPLAYS_PROMOTION",
    label: "í”„ë¡œëª¨ì…˜ í‘œì‹œ",
    description: "ì‚¬ì´ë‹ˆì§€ê°€ í”„ë¡œëª¨ì…˜ í‘œì‹œ",
    priority: "low",
    source_entity_type: "DigitalSignage",
    target_entity_type: "Promotion",
    directionality: "directed",
    properties: [],
  },

  // ==========================================
  // âš¡ ADDITIONAL (ì¶”ê°€ í•„ìˆ˜ ê´€ê³„) - 13ê°œ
  // ==========================================

  // ë°©ë¬¸/ê±°ë˜ í•µì‹¬ ì—°ê²° (CRITICAL)
  {
    name: "VISITED_STORE",
    label: "ë§¤ì¥ ë°©ë¬¸",
    description: "ë°©ë¬¸ì´ íŠ¹ì • ë§¤ì¥ì—ì„œ ë°œìƒ",
    priority: "additional",
    source_entity_type: "Visit",
    target_entity_type: "Store",
    directionality: "directed",
    properties: [{ name: "visit_date", type: "string", required: false, description: "ë°©ë¬¸ì¼" }],
  },
  {
    name: "OCCURRED_AT_STORE",
    label: "ë§¤ì¥ ê±°ë˜",
    description: "ê±°ë˜ê°€ íŠ¹ì • ë§¤ì¥ì—ì„œ ë°œìƒ",
    priority: "additional",
    source_entity_type: "Transaction",
    target_entity_type: "Store",
    directionality: "directed",
    properties: [{ name: "transaction_date", type: "string", required: false, description: "ê±°ë˜ì¼" }],
  },
  {
    name: "ENTERED_THROUGH",
    label: "ì¶œì…êµ¬ ì§„ì…",
    description: "ë°©ë¬¸ì´ íŠ¹ì • ì¶œì…êµ¬ë¡œ ì§„ì…",
    priority: "additional",
    source_entity_type: "Visit",
    target_entity_type: "Entrance",
    directionality: "directed",
    properties: [{ name: "entry_time", type: "string", required: false, description: "ì§„ì… ì‹œê°„" }],
  },

  // ì¬ê³  ì—°ê²° (CRITICAL)
  {
    name: "STORED_AT",
    label: "ë§¤ì¥ ì¬ê³ ",
    description: "ì¬ê³ ê°€ íŠ¹ì • ë§¤ì¥ì— ë³´ê´€",
    priority: "additional",
    source_entity_type: "Inventory",
    target_entity_type: "Store",
    directionality: "directed",
    properties: [{ name: "stock_level", type: "number", required: false, description: "ì¬ê³  ìˆ˜ì¤€" }],
  },

  // ì¹´í…Œê³ ë¦¬ ê³„ì¸µ (CRITICAL)
  {
    name: "HAS_SUBCATEGORY",
    label: "í•˜ìœ„ ì¹´í…Œê³ ë¦¬",
    description: "ì¹´í…Œê³ ë¦¬ê°€ í•˜ìœ„ ì¹´í…Œê³ ë¦¬ ë³´ìœ ",
    priority: "additional",
    source_entity_type: "Category",
    target_entity_type: "Category",
    directionality: "directed",
    properties: [{ name: "hierarchy_level", type: "number", required: false, description: "ê³„ì¸µ ë ˆë²¨" }],
  },

  // í”„ë¡œëª¨ì…˜ íƒ€ê²Ÿ (HIGH)
  {
    name: "TARGETS_PRODUCT",
    label: "ì œí’ˆ íƒ€ê²Ÿ",
    description: "í”„ë¡œëª¨ì…˜ì´ íŠ¹ì • ì œí’ˆ íƒ€ê²Ÿ",
    priority: "additional",
    source_entity_type: "Promotion",
    target_entity_type: "Product",
    directionality: "directed",
    properties: [{ name: "discount_rate", type: "number", required: false, description: "í• ì¸ìœ¨" }],
  },
  {
    name: "TARGETS_ZONE",
    label: "êµ¬ì—­ íƒ€ê²Ÿ",
    description: "í”„ë¡œëª¨ì…˜ì´ íŠ¹ì • êµ¬ì—­ íƒ€ê²Ÿ",
    priority: "additional",
    source_entity_type: "Promotion",
    target_entity_type: "Zone",
    directionality: "directed",
    properties: [],
  },

  // ì‹œê³„ì—´ ë°ì´í„° ì—°ê²° (MEDIUM)
  {
    name: "SALES_OF_STORE",
    label: "ë§¤ì¥ ë§¤ì¶œ",
    description: "ì¼ê°„ ë§¤ì¶œì´ íŠ¹ì • ë§¤ì¥ì˜ ë°ì´í„°",
    priority: "additional",
    source_entity_type: "DailySales",
    target_entity_type: "Store",
    directionality: "directed",
    properties: [{ name: "sales_date", type: "string", required: false, description: "ë§¤ì¶œ ë‚ ì§œ" }],
  },
  {
    name: "RECORDED_AT_STORE",
    label: "ë§¤ì¥ ì´ë ¥",
    description: "ì¬ê³  ì´ë ¥ì´ íŠ¹ì • ë§¤ì¥ì—ì„œ ê¸°ë¡",
    priority: "additional",
    source_entity_type: "InventoryHistory",
    target_entity_type: "Store",
    directionality: "directed",
    properties: [],
  },
  {
    name: "HISTORY_OF_PRODUCT",
    label: "ì œí’ˆ ì´ë ¥",
    description: "ì¬ê³  ì´ë ¥ì´ íŠ¹ì • ì œí’ˆì˜ ë°ì´í„°",
    priority: "additional",
    source_entity_type: "InventoryHistory",
    target_entity_type: "Product",
    directionality: "directed",
    properties: [{ name: "change_type", type: "string", required: false, description: "ë³€í™” ìœ í˜•" }],
  },
  {
    name: "PERFORMANCE_OF_ZONE",
    label: "êµ¬ì—­ ì„±ê³¼",
    description: "ì„±ê³¼ ë°ì´í„°ê°€ íŠ¹ì • êµ¬ì—­ì˜ ë°ì´í„°",
    priority: "additional",
    source_entity_type: "ZonePerformance",
    target_entity_type: "Zone",
    directionality: "directed",
    properties: [{ name: "performance_date", type: "string", required: false, description: "ì„±ê³¼ ë‚ ì§œ" }],
  },

  // ìš´ì˜ ê´€ê³„ (MEDIUM)
  {
    name: "ASSIGNED_TO_STAFF",
    label: "ì§ì› ë°°ì •",
    description: "ì‘ì—…ì´ íŠ¹ì • ì§ì›ì—ê²Œ ë°°ì •",
    priority: "additional",
    source_entity_type: "Task",
    target_entity_type: "Staff",
    directionality: "directed",
    properties: [{ name: "assigned_date", type: "string", required: false, description: "ë°°ì •ì¼" }],
  },

  // ì™¸ë¶€ ì»¨í…ìŠ¤íŠ¸ (HIGH)
  {
    name: "AFFECTS_STORE",
    label: "ë§¤ì¥ ì˜í–¥",
    description: "ë‚ ì”¨ê°€ íŠ¹ì • ë§¤ì¥ì— ì˜í–¥",
    priority: "additional",
    source_entity_type: "Weather",
    target_entity_type: "Store",
    directionality: "directed",
    properties: [{ name: "impact_level", type: "string", required: false, description: "ì˜í–¥ ìˆ˜ì¤€" }],
  },
];

/**
 * í”„ë¦¬ì…‹ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì ìš©í•˜ëŠ” í•¨ìˆ˜
 */
export async function applyRetailSchemaPreset(
  userId: string,
  orgId: string | null,
  mode: "replace" | "merge" = "replace",
) {
  try {
    // 1. Replace ëª¨ë“œì¼ ê²½ìš° ê¸°ì¡´ íƒ€ì… ì‚­ì œ
    if (mode === "replace") {
      const { error: deleteRelError } = await supabase.from("ontology_relation_types").delete().eq("user_id", userId);

      if (deleteRelError) throw deleteRelError;

      const { error: deleteEntError } = await supabase.from("ontology_entity_types").delete().eq("user_id", userId);

      if (deleteEntError) throw deleteEntError;
    }

    // 2. ì—”í‹°í‹° íƒ€ì… ì‚½ì…
    const entityInserts = COMPREHENSIVE_ENTITY_TYPES.map((entity) => ({
      user_id: userId,
      org_id: orgId,
      name: entity.name,
      label: entity.label,
      description: entity.description,
      icon: entity.icon,
      color: entity.color,
      model_3d_type: entity.model_3d_type || null,
      model_3d_dimensions: (entity as any).model_3d_dimensions || null,
      model_3d_metadata: (entity as any).model_3d_metadata || null,
      properties: entity.properties,
    }));

    const { data: insertedEntities, error: entError } = await supabase
      .from("ontology_entity_types")
      .insert(entityInserts)
      .select("id, name");

    if (entError) throw entError;

    // 3. ê´€ê³„ íƒ€ì… ì‚½ì…
    const relationInserts = COMPREHENSIVE_RELATION_TYPES.map((relation) => ({
      user_id: userId,
      org_id: orgId,
      name: relation.name,
      label: relation.label,
      description: relation.description,
      source_entity_type: relation.source_entity_type,
      target_entity_type: relation.target_entity_type,
      directionality: relation.directionality,
      properties: relation.properties,
    }));

    const { error: relError } = await supabase.from("ontology_relation_types").insert(relationInserts);

    if (relError) throw relError;

    return {
      success: true,
      entitiesCount: COMPREHENSIVE_ENTITY_TYPES.length,
      relationsCount: COMPREHENSIVE_RELATION_TYPES.length,
      message: `${COMPREHENSIVE_ENTITY_TYPES.length}ê°œ ì—”í‹°í‹°, ${COMPREHENSIVE_RELATION_TYPES.length}ê°œ ê´€ê³„ ì ìš© ì™„ë£Œ`,
    };
  } catch (error) {
    console.error("ìŠ¤í‚¤ë§ˆ í”„ë¦¬ì…‹ ì ìš© ì˜¤ë¥˜:", error);
    return {
      success: false,
      error: error instanceof Error ? error.message : "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜",
    };
  }
}
